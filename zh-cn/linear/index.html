
<!doctype html>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-158616893-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-158616893-1');
    </script>

    <link href="../../images/favicon-542cd9a8.png" rel="icon" type="image/png" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Bybit API Docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
      header.top-nav {
        position:fixed;
        display:flex;
        flex:1;
        width:100%;
        z-index:100;
        background: #333;
        padding: 0 26px;
        -webkit-box-sizing: border-box;
                box-sizing: border-box;
        align-items: center;
      }
      div.top-menu{
        display:flex;
        flex: 1;
      }
      a.logo-link{
        line-height: 50px;
      }
      img.logo {
        width: 161px;
        height: 50px;
        vertical-align: middle;
      }
      .con {
          display: flex;
          top: 0;
          height: 55px;
          margin: 0 0 0 62px;
          padding: 0;
          list-style: none;
          text-align: center;
      }

      .con li{
          text-align: center;
          line-height: 55px;
          border:0 solid #000;
          -webkit-box-sizing: border-box;
                  box-sizing: border-box;
      }

      .con a {
        display: inline-block;
        color: #B0B8DB;
        font-size: 16px;
        text-decoration: none;
        line-height: 53px;
        padding: 0 20px;
      }

      .con a.selected {
        border-bottom: 2px solid transparent;
        border-color: #FFB11A;
        color: #fff;
      }

      a.international{
        display: block;
        height: 27px;
        line-height: 27px;
        text-align: center;
        color: #fff;
        text-decoration: none;
        border: 1px solid #383F66;
        padding: 0 20px;
        color: #F0B90B;
      }
    </style>
    <link href="../../stylesheets/screen-41611288.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print-2009bc50.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all-0f81ae09.js"></script>
  </head>
  <header class="top-nav">
  <div class="top-menu">
  <a href="https://bybit-exchange.github.io/docs/inverse" class="logo-link" target="_self">
    <img src="../../images/logo-c373d083.svg" class="logo" alt="Logo" />
  </a>
  <ul class="con">
    <li><a href="/docs/zh-cn/inverse">反向永续</a></li>
    <li><a href="/docs/zh-cn/linear" class="selected">USDT永续</a></li>
  </ul>
  </div>
  <a class="international" id="international" href="javascript:void(0);">English</a>
  </header>

  <body class="zh-cn zh-cn_linear zh-cn_linear_index" data-languages="[&quot;console&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="console">console</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="搜索">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#t-introduction" class="toc-h1 toc-link" data-title="介绍">介绍</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-resources" class="toc-h2 toc-link" data-title="参考资料">参考资料</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-changelog" class="toc-h1 toc-link" data-title="更新日志">更新日志</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2020-05-21" class="toc-h2 toc-link" data-title="2020-05-21">2020-05-21</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-05-18" class="toc-h2 toc-link" data-title="2020-05-18">2020-05-18</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-2" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-29" class="toc-h2 toc-link" data-title="2020-04-29">2020-04-29</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-3" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-27" class="toc-h2 toc-link" data-title="2020-04-27">2020-04-27</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-4" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-18" class="toc-h2 toc-link" data-title="2020-04-18">2020-04-18</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-5" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-17" class="toc-h2 toc-link" data-title="2020-04-17">2020-04-17</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-6" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-14" class="toc-h2 toc-link" data-title="2020-04-14">2020-04-14</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-7" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-09" class="toc-h2 toc-link" data-title="2020-04-09">2020-04-09</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-8" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-07" class="toc-h2 toc-link" data-title="2020-04-07">2020-04-07</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-9" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-31" class="toc-h2 toc-link" data-title="2020-03-31">2020-03-31</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-10" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-2" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-27" class="toc-h2 toc-link" data-title="2020-03-27">2020-03-27</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-11" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-3" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-authentication" class="toc-h1 toc-link" data-title="鉴权/认证">鉴权/认证</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-authenticationparameters" class="toc-h2 toc-link" data-title="公共参数">公共参数</a>
                  </li>
                  <li>
                    <a href="#t-constructingtherequest" class="toc-h2 toc-link" data-title="构建请求">构建请求</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-marketdata" class="toc-h1 toc-link" data-title="行情接口">行情接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-orderbook" class="toc-h2 toc-link" data-title="Orderbook">Orderbook</a>
                  </li>
                  <li>
                    <a href="#t-querykline" class="toc-h2 toc-link" data-title="查询K线数据">查询K线数据</a>
                  </li>
                  <li>
                    <a href="#t-latestsymbolinfo" class="toc-h2 toc-link" data-title="合约最新信息">合约最新信息</a>
                  </li>
                  <li>
                    <a href="#t-publictradingrecords" class="toc-h2 toc-link" data-title="平台交易历史数据">平台交易历史数据</a>
                  </li>
                  <li>
                    <a href="#t-querysymbol" class="toc-h2 toc-link" data-title="查询合约信息">查询合约信息</a>
                  </li>
                  <li>
                    <a href="#t-query_liqrecords" class="toc-h2 toc-link" data-title="查询强平订单数据">查询强平订单数据</a>
                  </li>
                  <li>
                    <a href="#t-fundingrate" class="toc-h2 toc-link" data-title="查询上个周期的资金费率">查询上个周期的资金费率</a>
                  </li>
                  <li>
                    <a href="#t-markpricekline" class="toc-h2 toc-link" data-title="标记价格K线">标记价格K线</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-accountdata" class="toc-h1 toc-link" data-title="账户/交易接口">账户/交易接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-activeorders" class="toc-h2 toc-link" data-title="活动单">活动单</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-placeactive" class="toc-h3 toc-link" data-title="创建活动委托单">创建活动委托单</a>
                          </li>
                          <li>
                            <a href="#t-getactive" class="toc-h3 toc-link" data-title="查询活动委托">查询活动委托</a>
                          </li>
                          <li>
                            <a href="#t-cancelactive" class="toc-h3 toc-link" data-title="撤销活动委托单">撤销活动委托单</a>
                          </li>
                          <li>
                            <a href="#t-cancelallactive" class="toc-h3 toc-link" data-title="撤销所有活动委托单">撤销所有活动委托单</a>
                          </li>
                          <li>
                            <a href="#t-queryactive" class="toc-h3 toc-link" data-title="实时查询活动委托">实时查询活动委托</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-conditionalorders" class="toc-h2 toc-link" data-title="条件单">条件单</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-placecond" class="toc-h3 toc-link" data-title="创建条件委托单">创建条件委托单</a>
                          </li>
                          <li>
                            <a href="#t-getcond" class="toc-h3 toc-link" data-title="查询条件委托">查询条件委托</a>
                          </li>
                          <li>
                            <a href="#t-cancelcond" class="toc-h3 toc-link" data-title="撤消条件委托单">撤消条件委托单</a>
                          </li>
                          <li>
                            <a href="#t-cancelallcond" class="toc-h3 toc-link" data-title="撤消全部条件委托单">撤消全部条件委托单</a>
                          </li>
                          <li>
                            <a href="#t-querycond" class="toc-h3 toc-link" data-title="实时查询条件委托">实时查询条件委托</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-position" class="toc-h2 toc-link" data-title="持仓">持仓</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-myposition" class="toc-h3 toc-link" data-title="获取持仓（实时）">获取持仓（实时）</a>
                          </li>
                          <li>
                            <a href="#t-setautoaddmargin" class="toc-h3 toc-link" data-title="自动追加保证金">自动追加保证金</a>
                          </li>
                          <li>
                            <a href="#t-setleverage" class="toc-h3 toc-link" data-title="设置杠杆">设置杠杆</a>
                          </li>
                          <li>
                            <a href="#t-marginswitch" class="toc-h3 toc-link" data-title="全仓/逐仓切换">全仓/逐仓切换</a>
                          </li>
                          <li>
                            <a href="#t-tradingstop" class="toc-h3 toc-link" data-title="设置止盈止损">设置止盈止损</a>
                          </li>
                          <li>
                            <a href="#t-addmargin" class="toc-h3 toc-link" data-title="增加/减少保证金">增加/减少保证金</a>
                          </li>
                          <li>
                            <a href="#t-usertraderecords" class="toc-h3 toc-link" data-title="用户成交记录">用户成交记录</a>
                          </li>
                          <li>
                            <a href="#t-closedprofitandloss" class="toc-h3 toc-link" data-title="平仓盈亏">平仓盈亏</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-risklimit" class="toc-h2 toc-link" data-title="风险限额">风险限额</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-getrisklimit" class="toc-h3 toc-link" data-title="查询风险限额表">查询风险限额表</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-funding" class="toc-h2 toc-link" data-title="资金费率">资金费率</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-mylastfundingfee" class="toc-h3 toc-link" data-title="查询上个周期资金费用结算信息">查询上个周期资金费用结算信息</a>
                          </li>
                          <li>
                            <a href="#t-predictedfunding" class="toc-h3 toc-link" data-title="查询预测资金费率和资金费用">查询预测资金费率和资金费用</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-key" class="toc-h2 toc-link" data-title="APIKey信息">APIKey信息</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-wallet" class="toc-h1 toc-link" data-title="钱包接口">钱包接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-balance" class="toc-h2 toc-link" data-title="获取钱包余额">获取钱包余额</a>
                  </li>
                  <li>
                    <a href="#t-walletrecords" class="toc-h2 toc-link" data-title="资金记录">资金记录</a>
                  </li>
                  <li>
                    <a href="#t-withdrawrecords" class="toc-h2 toc-link" data-title="提币记录">提币记录</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-api" class="toc-h1 toc-link" data-title="通用数据接口">通用数据接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-servertime" class="toc-h2 toc-link" data-title="服务器时间">服务器时间</a>
                  </li>
                  <li>
                    <a href="#t-announcement" class="toc-h2 toc-link" data-title="公告">公告</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-ratelimits" class="toc-h1 toc-link" data-title="频率限制">频率限制</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-ipratelimits" class="toc-h2 toc-link" data-title="IP频率限制">IP频率限制</a>
                  </li>
                  <li>
                    <a href="#t-understandingratelimits" class="toc-h2 toc-link" data-title="账户频率限制">账户频率限制</a>
                  </li>
                  <li>
                    <a href="#t-perendpoint" class="toc-h2 toc-link" data-title="接口频率限制表">接口频率限制表</a>
                  </li>
                  <li>
                    <a href="#t-orderlimits" class="toc-h2 toc-link" data-title="下单限制">下单限制</a>
                  </li>
                  <li>
                    <a href="#t-raisemylimit" class="toc-h2 toc-link" data-title="如何提高频率限制">如何提高频率限制</a>
                  </li>
                  <li>
                    <a href="#t-liquidity" class="toc-h2 toc-link" data-title="Bybit流动性贡献系统">Bybit流动性贡献系统</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-ofrthreshold" class="toc-h3 toc-link" data-title="报单成交率">报单成交率</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-ofrratio" class="toc-h4 toc-link" data-title="报单成交率">报单成交率</a>
                                  </li>
                                  <li>
                                    <a href="#t-ofrratioexample" class="toc-h4 toc-link" data-title="报单成交率举例">报单成交率举例</a>
                                  </li>
                                  <li>
                                    <a href="#t-ofrminimum" class="toc-h4 toc-link" data-title="API 交易用户最小报单成交率门槛">API 交易用户最小报单成交率门槛</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#t-frequencylimit" class="toc-h3 toc-link" data-title="API 交易用户提高频率的条件">API 交易用户提高频率的条件</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-liquiditypoints" class="toc-h4 toc-link" data-title="流动性贡献打分">流动性贡献打分</a>
                                  </li>
                                  <li>
                                    <a href="#t-ratelimitsexplanation" class="toc-h4 toc-link" data-title="名词解释">名词解释</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-websocket" class="toc-h1 toc-link" data-title="WebSocket接口">WebSocket接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-websocketauthentication" class="toc-h2 toc-link" data-title="鉴权/认证">鉴权/认证</a>
                  </li>
                  <li>
                    <a href="#t-heartbeat" class="toc-h2 toc-link" data-title="心跳包/Ping">心跳包/Ping</a>
                  </li>
                  <li>
                    <a href="#t-subscribe" class="toc-h2 toc-link" data-title="订阅方式">订阅方式</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-websocketfilters" class="toc-h3 toc-link" data-title="Websocket订阅方式">Websocket订阅方式</a>
                          </li>
                          <li>
                            <a href="#t-intervals" class="toc-h3 toc-link" data-title="推送周期">推送周期</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-websocketresponse" class="toc-h2 toc-link" data-title="订阅结果">订阅结果</a>
                  </li>
                  <li>
                    <a href="#t-publictopics" class="toc-h2 toc-link" data-title="公共 Topics">公共 Topics</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-websocketorderbook25" class="toc-h3 toc-link" data-title="orderBook25档">orderBook25档</a>
                          </li>
                          <li>
                            <a href="#t-websocketorderbook200" class="toc-h3 toc-link" data-title="orderBook200档">orderBook200档</a>
                          </li>
                          <li>
                            <a href="#t-websocketinstrumentinfo" class="toc-h3 toc-link" data-title="行情">行情</a>
                          </li>
                          <li>
                            <a href="#t-websockettrade" class="toc-h3 toc-link" data-title="平台成交">平台成交</a>
                          </li>
                          <li>
                            <a href="#t-websocketkline" class="toc-h3 toc-link" data-title="K线">K线</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-privatetopics" class="toc-h2 toc-link" data-title="私有 Topics">私有 Topics</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-websocketposition" class="toc-h3 toc-link" data-title="持仓">持仓</a>
                          </li>
                          <li>
                            <a href="#t-websocketexecution" class="toc-h3 toc-link" data-title="个人成交">个人成交</a>
                          </li>
                          <li>
                            <a href="#t-websocketorder" class="toc-h3 toc-link" data-title="活动单">活动单</a>
                          </li>
                          <li>
                            <a href="#t-websocketstoporder" class="toc-h3 toc-link" data-title="条件单">条件单</a>
                          </li>
                          <li>
                            <a href="#t-websocketwallet" class="toc-h3 toc-link" data-title="钱包">钱包</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-errors" class="toc-h1 toc-link" data-title="错误码">错误码</a>
          </li>
          <li>
            <a href="#t-enums" class="toc-h1 toc-link" data-title="枚举定义">枚举定义</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#side-side" class="toc-h2 toc-link" data-title="Side (side)">Side (<code>side</code>)</a>
                  </li>
                  <li>
                    <a href="#symbol-symbol" class="toc-h2 toc-link" data-title="Symbol (symbol)">Symbol (<code>symbol</code>)</a>
                  </li>
                  <li>
                    <a href="#currency-currency-coin" class="toc-h2 toc-link" data-title="Currency (currency/coin)">Currency (<code>currency</code>/<code>coin</code>)</a>
                  </li>
                  <li>
                    <a href="#wallet-fund-type-wallet_fund_type" class="toc-h2 toc-link" data-title="Wallet fund type (wallet_fund_type)">Wallet fund type (<code>wallet_fund_type</code>)</a>
                  </li>
                  <li>
                    <a href="#withdraw-status-status" class="toc-h2 toc-link" data-title="Withdraw status (status)">Withdraw status (<code>status</code>)</a>
                  </li>
                  <li>
                    <a href="#order-type-order_type" class="toc-h2 toc-link" data-title="Order type (order_type)">Order type (<code>order_type</code>)</a>
                  </li>
                  <li>
                    <a href="#quantity-qty" class="toc-h2 toc-link" data-title="Quantity (qty)">Quantity (<code>qty</code>)</a>
                  </li>
                  <li>
                    <a href="#price-price" class="toc-h2 toc-link" data-title="Price (price)">Price (<code>price</code>)</a>
                  </li>
                  <li>
                    <a href="#time-in-force-time_in_force" class="toc-h2 toc-link" data-title="Time in force (time_in_force)">Time in force (<code>time_in_force</code>)</a>
                  </li>
                  <li>
                    <a href="#trigger-price-type-trigger_by" class="toc-h2 toc-link" data-title="Trigger price type (trigger_by)">Trigger price type (<code>trigger_by</code>)</a>
                  </li>
                  <li>
                    <a href="#order-order" class="toc-h2 toc-link" data-title="Order (order)">Order (<code>order</code>)</a>
                  </li>
                  <li>
                    <a href="#order-status-order_status" class="toc-h2 toc-link" data-title="Order status (order_status)">Order status (<code>order_status</code>)</a>
                  </li>
                  <li>
                    <a href="#cancel-type-cancel_type" class="toc-h2 toc-link" data-title="Cancel type (cancel_type)">Cancel type (<code>cancel_type</code>)</a>
                  </li>
                  <li>
                    <a href="#create-type-create_type" class="toc-h2 toc-link" data-title="Create type (create_type)">Create type (<code>create_type</code>)</a>
                  </li>
                  <li>
                    <a href="#exec-type-exec_type" class="toc-h2 toc-link" data-title="Exec type (exec_type)">Exec type (<code>exec_type</code>)</a>
                  </li>
                  <li>
                    <a href="#liquidity-type-last_liquidity_ind" class="toc-h2 toc-link" data-title="Liquidity type (last_liquidity_ind)">Liquidity type (<code>last_liquidity_ind</code>)</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <!---
Clipboard script
-->

<script src="../dist/clipboard.min.js"></script>

<script>
var clipboard = new ClipboardJS('.clipboard_button');

clipboard.on('success', function(e) {
    console.log(e);
});

clipboard.on('error', function(e) {
    console.log(e);
});
</script>
<h1 id='t-introduction'>介绍</h1>
<p><p>欢迎使用 <a href="https://www.bybit.com/">Bybit</a> APIs 和 Websocket官方文档！</p> <p>如果您在使用API的过程中遇到问题需要帮助，请加入我们的 <a href="https://t.me/Bybitapi">官方Telegram API讨论群</a>！</p></p>
<h3 id='t-resources'>参考资料</h3>
<p><ul> <li><a href="https://help.bybit.com/hc/zh-cn">帮助中心<img src="../../images/bybit_favicon-066372d5.png" height="14", width="14"></a> - 在这里了解合约交易 <li><a href="https://github.com/bybit-exchange/docs/issues">Bybit API docs<img src="../../images/github_logo_icon-768757c0.png" height="14", width="14"></a> - 在这里提bug <li><a href="https://github.com/bybit-exchange/api-connectors/">Bybit's api-connectors <img src="../../images/github_logo_icon-768757c0.png" height="14", width="14"></a> - 官方API SDK <li><a href="https://t.me/Bybitapi">API Discussion Group <img src="../../images/telegram_logo_icon-251353d9.png" height="14", width="14"></a> - API讨论群 <li><a href="https://t.me/Bybit_API_Announcements">API Announcements Channel <img src="../../images/telegram_logo_icon-251353d9.png" height="14", width="14"></a> - API公告群 <li>添加小助手微信号：BybitAPI，加入Bybit API中文交流群</li> </ul></p>
<h1 id='t-changelog'>更新日志</h1><h2 id='2020-05-21'>2020-05-21</h2><h3 id='rest-api'>REST API</h3>
<ul>
<li><a href="#t-query_liqrecords">查询强平订单数据</a> [新增]</li>
</ul>
<h2 id='2020-05-18'>2020-05-18</h2><h3 id='rest-api-2'>REST API</h3>
<ul>
<li><a href="#t-getactive">查询活动委托</a> [更新]

<ul>
<li><code>order_status</code> 支持多状态查询，状态之间用英文逗号分割。</li>
</ul></li>
<li><a href="#t-getcond">查询条件委托</a> [更新]

<ul>
<li><code>order_status</code> 支持多状态查询，状态之间用英文逗号分割。</li>
</ul></li>
<li><a href="#t-querykline">查询K线数据</a> [更新]<br>

<ul>
<li>新增返回字段 <code>interval</code>, <code>open_time</code>, <code>turnover</code> 字段</li>
<li>废弃返回参数 <code>period</code>, <code>start_at</code></li>
</ul></li>
</ul>
<h2 id='2020-04-29'>2020-04-29</h2><h3 id='rest-api-3'>REST API</h3>
<ul>
<li><a href="#t-key">APIKey信息</a> [bugfix]

<ul>
<li>修复某些情况下<code>inviter_id</code>总是为0的bug</li>
</ul></li>
</ul>
<h3 id='websocket-api'>Websocket API</h3>
<ul>
<li><a href="#t-websocketkline">K线</a> [新增]</li>
</ul>
<h2 id='2020-04-27'>2020-04-27</h2><h3 id='rest-api-4'>REST API</h3>
<ul>
<li><a href="#t-latestsymbolinfo">合约最新信息</a> [更新]

<ul>
<li>默认返回值中增加<code>BTCUSDT</code></li>
</ul></li>
</ul>
<h2 id='2020-04-18'>2020-04-18</h2><h3 id='rest-api-5'>REST API</h3>
<ul>
<li><a href="#t-usertraderecords">用户成交记录</a> [更新]

<ul>
<li>返回值中增加参数，如 <code>exec_price</code>,<code>exec_value</code></li>
</ul></li>
<li>修复只读权限下，以下接口无法访问的bug：

<ul>
<li><a href="#t-usertraderecords">用户成交记录</a></li>
<li><a href="#t-closedprofitandloss">平仓盈亏</a></li>
</ul></li>
</ul>
<h2 id='2020-04-17'>2020-04-17</h2><h3 id='rest-api-6'>REST API</h3>
<ul>
<li><a href="#t-orderbook">Orderbook</a> [更新]

<ul>
<li>新增 <code>BTCUSDT</code> 至orderbook</li>
</ul></li>
<li><a href="#t-latestsymbolinfo">合约最新信息</a> [更新]

<ul>
<li>新增 <code>BTCUSDT</code> 至合约最新信息</li>
</ul></li>
<li><a href="#t-usertraderecords">用户成交记录</a> [更新]

<ul>
<li>新增 <code>trade_time_ms</code> 字段</li>
<li>更新请求参数 <code>start_time</code> 支持毫秒</li>
<li>废弃返回参数 <code>trade_time</code></li>
</ul></li>
<li><a href="#t-publictradingrecords">平台交易历史数据</a> [更新]

<ul>
<li>新增 <code>trade_time_ms</code> 字段</li>
<li>更新请求参数 <code>start_time</code> 支持毫秒</li>
<li>废弃返回参数 <code>trade_time</code></li>
</ul></li>
<li><a href="#t-markpricekline">标记价格K线</a> [新增]</li>
<li><a href="#t-predictedfunding">查询预测资金费率和资金费用</a> [新增]</li>
</ul>
<h2 id='2020-04-14'>2020-04-14</h2><h3 id='rest-api-7'>REST API</h3>
<ul>
<li><a href="#t-mylastfundingfee">查询上个周期资金费用结算信息</a> [新增]</li>
<li><a href="#t-setautoaddmargin">自动追加保证金</a> [新增]</li>
<li><a href="#t-tradingstop">设置止盈止损</a> [新增]</li>
<li><a href="#t-addmargin">增加/减少保证金</a> [新增]</li>
<li><a href="#t-usertraderecords">用户成交记录</a> [新增]</li>
<li><a href="#t-closedprofitandloss">平仓盈亏</a> [新增]</li>
<li><a href="#t-getrisklimit">查询风险限额表</a> [新增]</li>
</ul>
<h2 id='2020-04-09'>2020-04-09</h2><h3 id='rest-api-8'>REST API</h3>
<ul>
<li><a href="#t-conditionalorders">条件单</a> [新增]</li>
</ul>
<h2 id='2020-04-07'>2020-04-07</h2><h3 id='rest-api-9'>REST API</h3>
<ul>
<li><a href="#t-setleverage">设置杠杆</a> [新增]</li>
<li><a href="#t-marginswitch">全仓/逐仓切换</a> [新增]</li>
<li><a href="#t-querykline">查询K线数据</a> [新增]</li>
<li><a href="#t-publictradingrecords">平台交易历史数据</a> [新增]</li>
<li><a href="#t-fundingrate">查询上个周期的资金费率</a> [新增]</li>
<li><a href="#t-placeactive">创建活动委托单</a> [更新]

<ul>
<li>返回值中增加参数 <code>reduce_only</code></li>
<li>修复市价单order_type显示值</li>
</ul></li>
<li><a href="#t-getactive">查询活动委托</a> [更新]

<ul>
<li>返回值中增加参数 <code>reduce_only</code>

<ul>
<li>修复市价单order_type显示值</li>
</ul></li>
</ul></li>
<li><a href="#t-queryactive">实时查询活动委托</a> [更新]

<ul>
<li>返回值中增加参数 <code>reduce_only</code></li>
<li>修复市价单order_type显示值</li>
</ul></li>
<li><a href="#t-position">获取持仓（实时）</a> [更新]

<ul>
<li>增加可平量参数<code>free_qty</code></li>
</ul></li>
</ul>
<h2 id='2020-03-31'>2020-03-31</h2><h3 id='rest-api-10'>REST API</h3>
<ul>
<li><a href="#t-queryactive">实时查询活动委托</a> [新增]</li>
<li><a href="#t-getactive">查询活动委托</a> 

<ul>
<li><code>order_status</code> 参数不再支持多条件查询。</li>
</ul></li>
</ul>
<h3 id='websocket-api-2'>Websocket API</h3>
<ul>
<li><a href="#t-websocketwallet">钱包</a> [新增]</li>
<li><a href="#t-websockettrade">平台成交</a> [新增]</li>
<li><a href="#t-websocketorderbook25">orderBook25档</a>  [更新]</li>
<li><a href="#t-websocketorderbook200">orderBook200档</a>  [更新]

<ul>
<li>修复orderBook更新包数据错乱的问题</li>
</ul></li>
</ul>
<h2 id='2020-03-27'>2020-03-27</h2><h3 id='rest-api-11'>REST API</h3>
<ul>
<li><a href="#t-activeorders">创建活动委托单</a> [新增]</li>
<li><a href="#t-position">获取持仓（实时）</a> [新增]</li>
</ul>
<h3 id='websocket-api-3'>Websocket API</h3>
<ul>
<li><a href="#t-websocketorderbook25">orderBook25档</a> [新增]</li>
<li><a href="#t-websocketorderbook200">orderBook200档</a> [新增]</li>
<li><a href="#t-websocketinstrumentinfo">行情</a> [新增]</li>
<li><a href="#t-websocketposition">持仓</a> [新增]</li>
<li><a href="#t-websocketexecution">个人成交</a> [新增]</li>
<li><a href="#t-websocketorder">活动单</a> [新增]</li>
<li><a href="#t-websocketstoporder">条件单</a> [新增]</li>
</ul>
<h1 id='t-authentication'>鉴权/认证</h1>
<aside class="notice">
请先生成<a href="https://testnet.bybit.com/app/user/api-management"><b>测试网</b></a> 或 <a href="https://www.bybit.com/app/user/api-management"<b>主网</b></a>API KEY。
</aside>

<aside class="notice">
REST接口根URL:
<p><b>测试网</b><span>:<span> https://api-testnet.bybit.com</p>
<p><b>主网</b><span>:<span> https://api.bybit.com</p>

</aside>

<p><p>所有<b>private</b>接口都需要认证，<b>public</b> 接口不需要认证。</p></p>
<h2 id='t-authenticationparameters'>公共参数</h2>
<p>需要签名的接口必须包含以下参数:
<ul>
  <li><b>api_key</b></li>
  <li><b>timestamp</b> - UTC<b>毫秒</b>时间戳</li>
  <li><b>sign</b> - 请求参数签名</li>
</ul>
</p>

<p>另外我们提供可选的<code>recv_window</code>参数（单位是毫秒，默认值为<code>5000</code>），来指定请求在多长时间内有效，同时用来防止重放攻击。
</p>

<aside class="warning">
注意，timestamp参数必须符合如下规则: <b>server_time - recv_window <= timestamp < server_time + 1000</b>，其中server_time是Bybit服务器时间，您可以通过<a href="#t-servertime">服务器时间接口</a>获取。

</aside>
<h2 id='t-constructingtherequest'>构建请求</h2>
<blockquote>
<p>拼接参数示例（以修改杠杆接口为例）：</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="n">param_str</span> <span class="o">=</span> <span class="s">"api_key=B2Rou0PLPpGqcU0Vu2&amp;leverage=100&amp;symbol=BTCUSD&amp;timestamp=1542434791747"</span>

<span class="c"># api_key=B2Rou0PLPpGqcU0Vu2&amp;</span>
<span class="c"># leverage=100&amp;</span>
<span class="c"># symbol=BTCUSD&amp;</span>
<span class="c"># timestamp=1542434791747</span>
</code></pre>
<blockquote>
<p>参数按照 <b>字母顺序</b> 排列，然后计算<code>sign</code>。</p>
</blockquote>

<p><p>1. 所有参数按照字母顺序排序，然后按照<a href="https://en.wikipedia.org/wiki/Query_string">query string</a>格式拼接。</p>
<div></div></p>

<p><p>2. 使用<code>HMAC_SHA256</code>算法对第1步中拼接的query string签名，并转换为16进制字符串，得出<code>sign</code>参数。</p></p>

<blockquote>
<p><b>GET</b>请求格式（查询杠杆）:
</p>
</blockquote>
<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/user/leverage?api_key=B2Rou0PLPpGqcU0Vu2&amp;timestamp=1542434791000&amp;sign=670e3e4aa32b243f2dedf1dafcec2fd17a440e71b05681550416507de591d908</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-testnet.bybit.com</span>
</code></pre>
<blockquote>
<p><b>POST</b>请求格式（修改杠杆）:
</p>
</blockquote>
<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/user/leverage/save</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-testnet.bybit.com</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B2Rou0PLPpGqcU0Vu2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1542434791000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"670e3e4aa32b243f2dedf1dafcec2fd17a440e71b05681550416507de591d908"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><p>3. 将<code>sign</code>参数加到请求参数中即可；注意<code>GET</code>和<code>POST</code>请求参数格式不同，详见右边示例。</p></p>

<aside class="notice">
<a href="https://github.com/bybit-exchange/api-connectors/tree/master/encryption_example">签名计算示例</a>.
</aside>

<!--
### Examples of the Signature Algorithm

* [C#](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.cs)
* [Python](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.py)
* [C++](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.cpp)
* [Go](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.go)
* [PHP](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.php)
-->

<script>
function copyStringToClipboard (endpoint) {
  var str = document.getElementById(endpoint).innerText;
  // remove whitespace
  var str = str.replace(/ /g,"");
  // Create new element
  var el = document.createElementranslation missing: zh-cn.textarea;
  // Set value (string to be copied)
  el.value = str;
  // Set non-editable to avoid focus and move outside of view
  el.setAttribute("readonly", "");
  el.style = {position: "absolute", left: "-9999px"};
  document.body.appendChild(el);
  // Select text inside element
  el.select();
  // Copy text to clipboard
  document.execCommand("copy");
  // Remove temporary element
  document.body.removeChild(el);
}
</script>
<h1 id='t-marketdata'>行情接口</h1>
<p>以下市场行情数据接口不需要验权.</p>
<h3 id='t-orderbook'>Orderbook</h3>
<p><a href="/docs/inverse#t-orderbook">请点击查看接口描述。</a></p>
<h3 id='t-querykline'>查询K线数据</h3>
<blockquote>
<p>Curl 请求示例</p>
</blockquote>
<pre class="highlight shell_session"><code>curl https://api.bybit.com/public/linear/kline?symbol=BTCUSDT&amp;interval=1&amp;limit=2&amp;from=1581231260
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">3866948</span><span class="p">,</span>
        <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
        <span class="s2">"period"</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
        <span class="s2">"start_at"</span><span class="p">:</span> <span class="mi">1577836800</span><span class="p">,</span>
        <span class="s2">"volume"</span><span class="p">:</span> <span class="mf">1451.59</span><span class="p">,</span>
        <span class="s2">"open"</span><span class="p">:</span> <span class="mi">7700</span><span class="p">,</span>
        <span class="s2">"high"</span><span class="p">:</span> <span class="mi">999999</span><span class="p">,</span>
        <span class="s2">"low"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="s2">"close"</span><span class="p">:</span> <span class="mi">6000</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">3866948</span><span class="p">,</span>
        <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
        <span class="s2">"period"</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
        <span class="s2">"start_at"</span><span class="p">:</span> <span class="mi">1577836800</span><span class="p">,</span> <span class="c1">// <b>已废弃!!</b></span>
        <span class="s2">"volume"</span><span class="p">:</span> <span class="mf">1451.59</span><span class="p">,</span>
        <span class="s2">"open"</span><span class="p">:</span> <span class="mi">7700</span><span class="p">,</span>           <span class="c1">// <b>已废弃!!</b></span>
        <span class="s2">"high"</span><span class="p">:</span> <span class="mi">999999</span><span class="p">,</span>
        <span class="s2">"low"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="s2">"close"</span><span class="p">:</span> <span class="mi">6000</span><span class="p">,</span>
        <span class="s2">"interval"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"open_time"</span><span class="p">:</span> <span class="mi">1577836800</span><span class="p">,</span>
        <span class="s2">"turnover"</span><span class="p">:</span> <span class="mf">2.4343353100000003</span><span class="p">,</span>
    <span class="p">}],</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1581928016.558522"</span>
<span class="p">}</span>
</code></pre>
<p><p>Get kline.</p>
<p>For mark price klines, see the <a href="#t-markpricekline">Mark Price Kline</a> endpoint.</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpSymbols>/public/linear/kline</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpSymbols"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>数据更新频率. 枚举值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W" "Y"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">true</td>
<td style="text-align: left">integer</td>
<td>起始时间戳（单位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>最大200. 默认每页200条</td>
</tr>
</tbody></table>
<h3 id='t-latestsymbolinfo'>合约最新信息</h3>
<p><a href="/docs/inverse#t-latestsymbolinfo">请点击查看接口描述。</a></p>
<h3 id='t-publictradingrecords'>平台交易历史数据</h3>
<blockquote>
<p>Curl 请求示例</p>
</blockquote>
<pre class="highlight shell_session"><code>curl https://api.bybit.com/public/linear/recent-trading-records?symbol=BTCUSDT&amp;limit=500
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                                   <span class="c1">// error code 0 means success</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>                                 <span class="c1">// error message</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"18368131384"</span><span class="p">,</span>                            <span class="c1">// ID, string type, all ids are in descending order globally</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>                            <span class="c1">// contract type</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="mf">9499.5</span><span class="p">,</span>                                <span class="c1">// execution price</span>
            <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">9500</span><span class="p">,</span>                                    <span class="c1">// execution quantity</span>
            <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>                                  <span class="c1">// side</span>
            <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"2019-11-19T08:03:04.077Z"</span><span class="p">,</span>             <span class="c1">// <b>已废弃!!</b></span>
            <span class="s2">"trade_time_ms"</span><span class="p">:</span><span class="mi">1587638305175</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1567109419.049271"</span>
<span class="p">}</span>
</code></pre>
<p>获取Bybit的最近成交数据。如果您想获取历史所有的成交记录，请通过<a href="https://public.bybit.com">这里</a>下载历史行情。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpRecentTradingRecords>/public/linear/recent-trading-records</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpRecentTradingRecords"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>返回条数，最大1000，默认500</td>
</tr>
</tbody></table>
<h3 id='t-querysymbol'>查询合约信息</h3>
<p><a href="/docs/inverse#t-querysymbol">请点击查看接口描述。</a></p>
<h3 id='t-query_liqrecords'>查询强平订单数据</h3>
<p><a href="/docs/inverse#t-query_liqrecords">请点击查看接口描述。</a></p>
<h3 id='t-fundingrate'>查询上个周期的资金费率</h3>
<blockquote>
<p>Curl 请求示例</p>
</blockquote>
<pre class="highlight shell_session"><code>curl https://api.bybit.com/public/linear/funding/prev-funding-rate?symbol=BTCUSDT
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span><span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:{</span>
        <span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span>
        <span class="s2">"funding_rate"</span><span class="p">:</span><span class="o">-</span><span class="mf">0.00005965</span><span class="p">,</span>
        <span class="s2">"funding_rate_timestamp"</span><span class="p">:</span><span class="s2">"2020-04-07T08:00:00.000Z"</span>
    <span class="p">},</span>
    <span class="s2">"time_now"</span><span class="p">:</span><span class="s2">"1586251109.454281"</span>
<span class="p">}</span>
</code></pre>
<p>UTC时间每天0点、8点、16点产生一个资金费率。 假设当前时间是UTC12点，则返回的是上一次结算即UTC8点产生的资金费率。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpPreFundingRate>/public/linear/funding/prev-funding-rate</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpPreFundingRate"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>
<h3 id='t-markpricekline'>标记价格K线</h3>
<blockquote>
<p>Curl 请求示例</p>
</blockquote>
<pre class="highlight shell_session"><code>curl https://api.bybit.com/public/linear/mark-price-kline?symbol=BTCUSDT&amp;interval=1&amp;limit=2&amp;from=1581231260
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">3866948</span><span class="p">,</span>
        <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
        <span class="s2">"period"</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
        <span class="s2">"start_at"</span><span class="p">:</span> <span class="mi">1577836800</span><span class="p">,</span>
        <span class="s2">"volume"</span><span class="p">:</span> <span class="mf">1451.59</span><span class="p">,</span>
        <span class="s2">"open"</span><span class="p">:</span> <span class="mi">7700</span><span class="p">,</span>
        <span class="s2">"high"</span><span class="p">:</span> <span class="mi">999999</span><span class="p">,</span>
        <span class="s2">"low"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="s2">"close"</span><span class="p">:</span> <span class="mi">6000</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">3866948</span><span class="p">,</span>
        <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
        <span class="s2">"period"</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
        <span class="s2">"start_at"</span><span class="p">:</span> <span class="mi">1577836800</span><span class="p">,</span>
        <span class="s2">"volume"</span><span class="p">:</span> <span class="mf">1451.59</span><span class="p">,</span>
        <span class="s2">"open"</span><span class="p">:</span> <span class="mi">7700</span><span class="p">,</span>
        <span class="s2">"high"</span><span class="p">:</span> <span class="mi">999999</span><span class="p">,</span>
        <span class="s2">"low"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="s2">"close"</span><span class="p">:</span> <span class="mi">6000</span>
    <span class="p">}],</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1581928016.558522"</span>
<span class="p">}</span>
</code></pre>
<p>查询标记价格K线</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=plmpk>/public/linear/mark-price-kline</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#plmpk"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>数据更新频率. 枚举值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W" "Y"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">true</td>
<td style="text-align: left">integer</td>
<td>起始时间戳（单位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>最大200. 默认每页200条</td>
</tr>
</tbody></table>

<!--
### Orderbook
> Curl 请求示例

```console
curl https://api-testnet.bybit.com/v2/public/orderBook/L2?symbol=BTCUSD
```

> 响应示例

```javascript
{
    "ret_code": 0,                              // return code
    "ret_msg": "OK",                            // error message
    "ext_code": "",                             // additional error code
    "ext_info": "",                             // additional error info
    "result": [
        {
            "symbol": "BTCUSD",                 // symbol
            "price": "9487",                    // price
            "size": 336241,                     // size (in USD contracts)
            "side": "Buy"                       // side
        },
        {
            "symbol": "BTCUSD",                 // symbol
            "price": "9487.5",                  // price
            "size": 522147,                     // size (in USD contracts)
            "side": "Sell"                      // side
        }
    ],
    "time_now": "1567108756.834357"             // UTC timestamp
}
```

获取Bybit当前Orderbook信息.

<aside class="notice">
响应数据是当前时间的切片数据.
</aside>

<p class="fake_header">HTTP 请求</p>
GET
<code><span id=vpoL2>/v2/public/orderBook/L2</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoL2"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>

<p class="fake_header">请求参数</p>
|参数|是否必须|类型|说明|
|:----- |:-------|:-----|----- |
|<a href="#symbol-symbol">symbol</a> |true |string |合约类型 |



























### 合约最新信息
> Curl 请求示例

```console
curl https://api-testnet.bybit.com/v2/public/tickers
```

> 响应示例

```javascript
{
    "ret_code": 0,
    "ret_msg": "OK",
    "ext_code": "",
    "ext_info": "",
    "result": [
        {
            "symbol": "BTCUSD",
            "bid_price": "7230",
            "ask_price": "7230.5",
            "last_price": "7230.00",
            "last_tick_direction": "ZeroMinusTick",
            "prev_price_24h": "7163.00",
            "price_24h_pcnt": "0.009353",
            "high_price_24h": "7267.50",
            "low_price_24h": "7067.00",
            "prev_price_1h": "7209.50",
            "price_1h_pcnt": "0.002843",
            "mark_price": "7230.31",
            "index_price": "7230.14",
            "open_interest": 117860186,
            "open_value": "16157.26",
            "total_turnover": "3412874.21",
            "turnover_24h": "10864.63",
            "total_volume": 28291403954,
            "volume_24h": 78053288,
            "funding_rate": "0.0001",
            "predicted_funding_rate": "0.0001",
            "next_funding_time": "2019-12-28T00:00:00Z",
            "countdown_hour": 2
        }
    ],
    "time_now": "1577484619.817968"
}
```

获取Bybit的最新合约信息.

<p class="fake_header">HTTP 请求</p>
GET
<code><span id=vpTickers>/v2/public/tickers</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpTickers"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>

<p class="fake_header">请求参数</p>
|参数|是否必须|类型|说明|
|:----- |:-------|:-----|----- |
|<a href="#symbol-symbol">symbol</a> |false |string |合约类型 |
-->

<!--
### 查询合约信息
> Curl 请求示例

```console
curl https://api.bybit.com/public/linear/symbols
```

> 响应示例

```javascript
{
"ret_code": 0,
"ret_msg": "OK",
"ext_code": "",
"ext_info": "",
"result": [
    {
        "name": "BTCUSDT",
        "base_currency": "USDT",
        "quote_currency": "USD",
        "price_scale": 2,
        "taker_fee": "0.00075",
        "maker_fee": "-0.00025",
        "leverage_filter": {
            "min_leverage": 1,
            "max_leverage": 100,
            "leverage_step": "0.01"
        },
        "price_filter": {
            "min_price": "0.5",
            "max_price": "999999.5",
            "tick_size": "0.5"
        },
        "lot_size_filter": {
            "max_trading_qty": 1000000,
            "min_trading_qty": 0.001,
            "qty_step": 0.001
        }
    }
],
"time_now": "1586780484.438405"
}
```

获取合约信息.

<p class="fake_header">HTTP 请求</p>
GET
<code><span id=vpSymbols>/public/linear/symbols</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpSymbols"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>

<p class="fake_header">请求参数</p>
|parameter|是否必须|类型|说明|
|:----- |:-------|:-----|----- |
-->
<h1 id='t-accountdata'>账户/交易接口</h1>
<p>以下账户/交易接口都需要鉴权.</p>
<h2 id='t-activeorders'>活动单</h2><h3 id='t-placeactive'>创建活动委托单</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"order_id"</span><span class="p">:</span><span class="s2">"bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span>
        <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
        <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
        <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Limit"</span><span class="p">,</span>
        <span class="s2">"price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>
        <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">"time_in_force"</span><span class="p">:</span> <span class="s2">"GoodTillCancel"</span><span class="p">,</span>
        <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"New"</span><span class="p">,</span>
        <span class="s2">"last_exec_price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>    <span class="c1">//最近成交价格</span>
        <span class="s2">"cum_exec_qty"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>          <span class="c1">//累计成交数量</span>
        <span class="s2">"cum_exec_value"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>        <span class="c1">//累计成交价值</span>
        <span class="s2">"cum_exec_fee"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>          <span class="c1">//累计成交手续费</span>
        <span class="s2">"reduce_only"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>       <span class="c1">//是否平仓单 true-平仓 false-开仓</span>
        <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"created_time"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
        <span class="s2">"updated_time"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1575111823.458705"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre>
<p><p>市价活动委托: 一个传统的市场价格订单,会以当前的最优价格为您成交订单。当且仅当选择市价单时，<code>price</code>可为空！</p>
<p>限价活动委托: 您可以为您的订单设置一个执行价格，当市场价格达到您的设置价格时，系统会为您成交订单。</p>
<p><b>止盈止损: 您仅能在开仓时设置止盈止损条件单，一旦持有仓位后提交活动委托时关联的止盈止损则不会生效。如果不设置止盈止损触发条件<code>triggerBy</code>则默认使用LastPrice</b></p>
<p>委托数量: 表示您要购买/卖出的永续合约数，对于委托数量目前Bybit只允许提交正整数。</p>
<p>委托价格: 如果是下<b>限价单</b>，该参数为<b>必填</b>. 在没有仓位时，做多的委托价格需高于市价的10%、低于1百万。如有仓位时则需优于强平价。价格增减最小单位请参考<a href="#t-querysymbol">交易对接口</a>响应中的<b>price_filter</b>字段。</p>
<p>自定义条件单ID: 您可以自定义活动委托订单ID，我们会为您关联到系统的订单ID，并把系统的唯一订单ID在活动委托创建成功后一并返回给您，您可以使用该订单ID去取消活动委托，同时要求您传递的自定义订单ID<code>最大长度不超过36个字段且唯一</code>。</p>
<p><b>每个账户最多可同时持有500个活动订单。这是针对合约的，因此可以允许出现例如：账户同时持有300个BTCUSDT的活动单、280个ETHUSDT合约的活动单。</b></p>
<p><b>当您达到订单上限的时候的时候，仍然可以下单设置了参数<code>reduce_only</code> 或 <code>closeOnTrigger</code>的订单。</b></p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpoCreate>/private/linear/order/create</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoCreate"><img src="../../images/copy_to_clipboard-ff25494f.png" height=zh5 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">number</td>
<td>委托数量(BTC)</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>委托价格。如果是下<b>限价单</b>，该参数为<b>必填</b>. 在没有仓位时，做多的委托价格需高于市价的10%、低于1百万。如有仓位时则需优于强平价。价格增减最小单位请参考<a href="#t-querysymbol">交易对接口</a>响应中的<b>price_filter</b>字段</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>止盈价格，仅开仓时生效</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>止损价格，仅开仓时生效</td>
</tr>
<tr>
<td style="text-align: left">tp_trigger_by</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为上一笔成交价格</td>
</tr>
<tr>
<td style="text-align: left">sl_trigger_by</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为上一笔成交价格</td>
</tr>
<tr>
<td style="text-align: left">reduce_only</td>
<td style="text-align: left">true</td>
<td style="text-align: left">bool</td>
<td>是否平仓单,true-平仓 false-开仓</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">true</td>
<td style="text-align: left">bool</td>
<td>平仓委托,只会减少您的仓位而不会增加您的仓位。如果当平仓委托被触发时，账户上的余额不足，那么该合约的其他委托将被取消或者降低委托数量。使用此选项可以确保您的止损单被用于减仓而非加仓。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
</tbody></table>
<h3 id='t-getactive'>查询活动委托</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"current_page"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"last_page"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">"order_id"</span><span class="p">:</span><span class="s2">"bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span>
                <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
                <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Limit"</span><span class="p">,</span>
                <span class="s2">"price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>
                <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="s2">"time_in_force"</span><span class="p">:</span> <span class="s2">"GoodTillCancel"</span><span class="p">,</span>
                <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"New"</span><span class="p">,</span>
                <span class="s2">"last_exec_price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>
                <span class="s2">"cum_exec_qty"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">"cum_exec_value"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">"cum_exec_fee"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                <span class="s2">"reduce_only"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="s2">"created_time"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
                <span class="s2">"updated_time"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577448922.437871"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre>
<p><p>获取我的活动委托单列表。</p>
<p>创建/取消订单是异步的，因此<b>该接口可能返回的数据可能会有延迟</b>。如果要获取订单的实时信息，可以调用接口<a href="#t-queryactive">实时查询活动单信息</a>.</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oaoList>/private/linear/order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oaoList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">order</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>按创建时间排序</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>指定订单状态查询订单列表。不传该参数则默认查询所有状态订单。该参数支持多状态查询，状态之间用英文逗号分割。</td>
</tr>
</tbody></table>
<h3 id='t-cancelactive'>撤销活动委托单</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"order_id"</span><span class="p">:</span><span class="s2">"bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1575112681.814760"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre>
<p><p>所有撤销活动委托都必须填写<code>order_id</code>或<code>order_link_id</code>。 <code>order_id</code> - 当您成功创建了活动委托时会为您返回36位唯一的订单ID。</p>
<p>您可以撤销未成交、部分成交的活动委托单。但全部成交的活动委托不可取消。</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpoCancel>/private/linear/order/cancel</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoCancel"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID。如果未填order_link_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构ID。如果未填order_id则为<b>必填</b>字段。</td>
</tr>
</tbody></table>
<h3 id='t-cancelallactive'>撤销所有活动委托单</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>      
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>    
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>     
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"89a38056-80f1-45b2-89d3-4d8e3a203a79"</span><span class="p">,</span>  
        <span class="s2">"89a38056-80f1-45b2-89d3-4d8e3a203a79"</span><span class="p">,</span>  
    <span class="p">],</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1575110339.105675"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre>
<p><p>撤销所有未成交、部分成交的活动委托单。但全部成交的活动委托不可取消。</p>
</p>

<aside class="notice">
注意，此api每调用一次会导致<code>rate_limit</code>扣减10
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpoCancelAll>/private/linear/order/cancel-all</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoCancelAll"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>
<h3 id='t-queryactive'>实时查询活动委托</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"order_id"</span><span class="p">:</span><span class="s2">"bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span>
        <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
        <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
        <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Limit"</span><span class="p">,</span>
        <span class="s2">"price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>
        <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">"time_in_force"</span><span class="p">:</span> <span class="s2">"GoodTillCancel"</span><span class="p">,</span>
        <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"New"</span><span class="p">,</span>
        <span class="s2">"last_exec_price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>
        <span class="s2">"cum_exec_qty"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">"cum_exec_value"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">"cum_exec_fee"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">"reduce_only"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"created_time"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
        <span class="s2">"updated_time"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1571651135.291930"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span> <span class="c1">// The remaining number of accesses in one minute</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre>
<p>实时查询活动委托</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpOrder>/private/linear/order/search</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpOrder"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID。如果未填order_link_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构ID。如果未填order_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>
<h2 id='t-conditionalorders'>条件单</h2><h3 id='t-placecond'>创建条件委托单</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"stop_order_id"</span><span class="p">:</span><span class="s2">"bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span>
       <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
       <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
       <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Limit"</span><span class="p">,</span>
       <span class="s2">"price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>
       <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
       <span class="s2">"time_in_force"</span><span class="p">:</span> <span class="s2">"GoodTillCancel"</span><span class="p">,</span>
       <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"New"</span><span class="p">,</span>
       <span class="s2">"trigger_price"</span><span class="p">:</span> <span class="mi">8003</span><span class="p">,</span>
       <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
       <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
       <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577450904.327654"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1577450904335</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="s2">"100"</span>
<span class="p">}</span>
</code></pre>
<p><p>市价条件委托: 一个传统的市场价格订单,会以当前的最优价格为您成交订单。当且仅当选择市价单时，'price', '可为空！</p>
<p>限价条件委托: 您可以为您的订单设置一个执行价格，当市场价格达到您的设置价格时，系统会为您成交订单。</p>
<p>止盈止损: 您仅能在开仓时设置止盈止损条件单，一旦持有仓位后提交活动委托时关联的止盈止损则不再有效。一旦持仓后，当创建订单后发送的止盈止损信息将不再有效。</p>
<p>委托数量: 表示您要购买/卖出的永续合约数，对于委托数量目前Bybit只允许提交正整数。</p>
<p>委托价格: 表示您期望购买/卖出永续合约的价格，可以根据<a href="#t-querysymbol">交易对接口</a>查询不同symbol价格阶梯。</p>
<p>条件委托触发价格: 您可以为您的条件委托单设置一个触发价格，条件委托单不进入委托表（Order Book)，只有触发条件成立如市场价格到达触发价格时，条件委托单才会进入交易系统。当市场价格到达触发价格：1）您的限价条件委托单进入Order Book，等待被执行；2）您的市价条件委托单将按照市场最优价格立即被执行。</p>
<p>自定义条件单ID: 您可以自定义活动委托订单ID，我们会为您关联到系统的订单ID，并把系统的唯一订单ID在活动委托创建成功后一并返回给您，您可以使用该订单ID去取消活动委托，同时要求您传递的自定义订单ID最大长度不超过36个字段且唯一。</p>
</p>

<aside class="notice">
请注意:只允许最多创建10个条件委托单
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=oasoCreate>/private/linear/stop-order/create</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoCreate"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">number</td>
<td>委托数量(BTC)</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>条件委托执行价格。如果条件委托是限价单，则price为必传字段</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">true</td>
<td style="text-align: left">number</td>
<td>当前市价。用于和stop_px值进行比较，确定当前条件委托是看空到<code>stop_px</code>时触发还是看多到stop_px触发。主要是用来标识当前条件单预期的方向</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">true</td>
<td style="text-align: left">number</td>
<td>条件委托下单时市价</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为上一笔成交价格</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">true</td>
<td style="text-align: left">bool</td>
<td>触发后平仓. 如果下平仓单，请设置为<code>true</code>，避免因为保证金不足而导致下单失败</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
<tr>
<td style="text-align: left">reduce_only</td>
<td style="text-align: left">true</td>
<td style="text-align: left">bool</td>
<td>是否平仓单,true-平仓 false-开仓</td>
</tr>
</tbody></table>
<h3 id='t-getcond'>查询条件委托</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"current_page"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"last_page"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                 <span class="s2">"stop_order_id"</span><span class="p">:</span><span class="s2">"bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span>
                 <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                 <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                 <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
                 <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Limit"</span><span class="p">,</span>
                 <span class="s2">"price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>
                 <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                 <span class="s2">"time_in_force"</span><span class="p">:</span> <span class="s2">"GoodTillCancel"</span><span class="p">,</span>
                 <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"New"</span><span class="p">,</span>
                 <span class="s2">"trigger_price"</span><span class="p">:</span> <span class="mi">8003</span><span class="p">,</span>
                 <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                 <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
                 <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                 <span class="s2">"stop_order_id"</span><span class="p">:</span><span class="s2">"bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span>
                 <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                 <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                 <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
                 <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Limit"</span><span class="p">,</span>
                 <span class="s2">"price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>
                 <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                 <span class="s2">"time_in_force"</span><span class="p">:</span> <span class="s2">"GoodTillCancel"</span><span class="p">,</span>
                 <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"New"</span><span class="p">,</span>
                 <span class="s2">"trigger_price"</span><span class="p">:</span> <span class="mi">8003</span><span class="p">,</span>
                 <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                 <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
                 <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577451658.755468"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1577451658762</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre>
<p><p>获取我的条件委托单列表。</p> <p>创建/取消订单是异步的，因此<b>该接口可能返回的数据可能会有延迟</b>。如果要获取订单的实时信息，可以调用接口<a href="#t-querycond">实时查询条件单信息</a>。</p></p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oasoList>/private/linear/stop-order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>条件单状态</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-order">order</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>按创建时间排序</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条</td>
</tr>
</tbody></table>
<h3 id='t-cancelcond'>撤消条件委托单</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
         <span class="s2">"stop_order_id"</span><span class="p">:</span><span class="s2">"bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577452218.567120"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">97</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1577452218573</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="s2">"100"</span>
<span class="p">}</span>
</code></pre>
<p><p>您可以撤销所有未被激活的条件委托。本质上所有条件委托在被激活后都是属于活动委托，所以条件委托一旦被激活，您需要通过调用取消活动委托接口来取消所有未成交、部分成交的活动委托单。同样全部成交的活动委托不可取消。</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=oasoCancel>/private/linear/stop-order/cancel</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoCancel"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">required</th>
<th style="text-align: left">type</th>
<th>comments</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID。如果未填order_link_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构ID。如果未填stop_order_id则为<b>必填</b>字段。</td>
</tr>
</tbody></table>
<h3 id='t-cancelallcond'>撤消全部条件委托单</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"89a38056-80f1-45b2-89d3-4d8e3a203a79"</span><span class="p">,</span>  
        <span class="s2">"89a38056-80f1-45b2-89d3-4d8e3a203a79"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577454993.799912"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre>
<p>撤销所有未被激活的条件委托。本质上所有条件委托在被激活后都是属于活动委托，所以条件委托一旦被激活，您需要通过调用取消活动委托接口来取消所有未成交、部分成交的活动委托单。同样全部成交的活动委托不可取消。</p>

<aside class="notice">
注意，此api每调用一次会导致rate_limit扣减10
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpsoCancelAll>/private/linear/stop-order/cancel-all</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoCancelAll"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">required</th>
<th style="text-align: left">type</th>
<th>comments</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>
<h3 id='t-querycond'>实时查询条件委托</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"stop_order_id"</span><span class="p">:</span><span class="s2">"bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span>
        <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
        <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
        <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Limit"</span><span class="p">,</span>
        <span class="s2">"price"</span><span class="p">:</span> <span class="mi">8083</span><span class="p">,</span>
        <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">"time_in_force"</span><span class="p">:</span> <span class="s2">"GoodTillCancel"</span><span class="p">,</span>
        <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"New"</span><span class="p">,</span>
        <span class="s2">"trigger_price"</span><span class="p">:</span> <span class="mi">8003</span><span class="p">,</span>
        <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
        <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2019-10-21T07:28:19.396246Z"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577476584.386958"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre>
<p>实时查询条件委托。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpStopOrder>/private/linear/stop-order/search</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpStopOrder"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID。如果未填order_link_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构ID。如果未填order_id则为<b>必填</b>字段。</td>
</tr>
</tbody></table>
<h2 id='t-position'>持仓</h2><h3 id='t-myposition'>获取持仓（实时）</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
               <span class="s2">"user_id"</span><span class="p">:</span><span class="mi">100004</span><span class="p">,</span>
               <span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span>
               <span class="s2">"side"</span><span class="p">:</span><span class="s2">"Buy"</span><span class="p">,</span>
               <span class="s2">"size"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"position_value"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>      <span class="c1">//当前仓位价值</span>
               <span class="s2">"entry_price"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>         <span class="c1">//平均开仓价</span>
               <span class="s2">"liq_price"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>           <span class="c1">//强平价格</span>
               <span class="s2">"bust_price"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>        <span class="c1">//破产价格</span>
               <span class="s2">"leverage"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"position_margin"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>     <span class="c1">//仓位保证金</span>
               <span class="s2">"occ_closing_fee"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>     <span class="c1">//预占用平仓手续费</span>
               <span class="s2">"realised_pnl"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>        <span class="c1">//当日已结盈亏</span>
               <span class="s2">"cum_realised_pnl"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>    <span class="c1">//累计已结盈亏</span>
               <span class="s2">"free_qty"</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>          <span class="c1">//可平量</span>
           <span class="p">},</span>
           <span class="p">{</span>
               <span class="s2">"user_id"</span><span class="p">:</span><span class="mi">100004</span><span class="p">,</span>
               <span class="s2">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span>
               <span class="s2">"side"</span><span class="p">:</span><span class="s2">"Buy"</span><span class="p">,</span>
               <span class="s2">"size"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"position_value"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"entry_price"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"liq_price"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
               <span class="s2">"bust_price"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
               <span class="s2">"leverage"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"position_margin"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"occ_closing_fee"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"realised_pnl"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"cum_realised_pnl"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
               <span class="s2">"free_qty"</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
           <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577480599.097287"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre>
<p>获取我的仓位列表。通过该接口可以获取当前用户的持仓信息，如持仓数量、账户余额等信息</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=pList>/private/linear/position/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>
<h3 id='t-setautoaddmargin'>自动追加保证金</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1586780385.549188"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1586780385547</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre>
<p>设置自动追加保证金。</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=pSetAutoAddMargin>/private/linear/position/set-auto-add-margin</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pSetAutoAddMargin"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">auto_add_margin</td>
<td style="text-align: left">true</td>
<td style="text-align: left">bool</td>
<td>追加保证金开关</td>
</tr>
</tbody></table>
<h3 id='t-setleverage'>设置杠杆</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1585881527.650138"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1585881527648</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre>
<p>设置杠杆</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=pSetLeverage>/private/linear/position/set-leverage</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pSetLeverage"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">buy_leverage</td>
<td style="text-align: left">true</td>
<td style="text-align: left">number</td>
<td><code>杠杆大于0，小于风险限额对应的杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">sell_leverage</td>
<td style="text-align: left">true</td>
<td style="text-align: left">number</td>
<td><code>杠杆大于0，小于风险限额对应的杠杆</code></td>
</tr>
</tbody></table>
<h3 id='t-marginswitch'>全仓/逐仓切换</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1585881597.006026"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1585881597004</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre>
<p>全仓/逐仓切换，从全仓切换至逐仓时需要传杠杆</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=pSwitchIsolated>/private/linear/position/switch-isolated</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pSwitchIsolated"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">is_isolated</td>
<td style="text-align: left">true</td>
<td style="text-align: left">bool</td>
<td>全仓/逐仓, true是逐仓，false是全仓</td>
</tr>
<tr>
<td style="text-align: left">buy_leverage</td>
<td style="text-align: left">true</td>
<td style="text-align: left">number</td>
<td><code>杠杆大于0，小于风险限额对应的杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">sell_leverage</td>
<td style="text-align: left">true</td>
<td style="text-align: left">number</td>
<td><code>杠杆大于0，小于风险限额对应的杠杆</code></td>
</tr>
</tbody></table>
<h3 id='t-tradingstop'>设置止盈止损</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
  <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
  <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
  <span class="s2">"result"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1586780408.193508"</span><span class="p">,</span>
  <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">73</span><span class="p">,</span>
  <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1586780408191</span><span class="p">,</span>
  <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre>
<p>设置止盈止损。</p>

<aside class="notice">
传递以下参数后将会由系统创建条件单。如果仓位关闭，系统将会取消这些订单，同时调整开仓的仓位数量。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=pSetTpSlTs>/private/linear/position/trading-stop</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pSetTpSlTs"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>不小于0,如果等于0则是取消止盈(TP)</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>不小于0,如果等于0则是取消止损(SL)</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>不小于0,如果等于0则是取消追踪止损(TS)</td>
</tr>
<tr>
<td style="text-align: left">tp_trigger_by</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为上一笔成交价格</td>
</tr>
<tr>
<td style="text-align: left">sl_trigger_by</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为上一笔成交价格</td>
</tr>
</tbody></table>
<h3 id='t-addmargin'>增加/减少保证金</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"PositionListResult"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">160815</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
            <span class="s2">"size"</span><span class="p">:</span> <span class="mf">3.14</span><span class="p">,</span>
            <span class="s2">"position_value"</span><span class="p">:</span> <span class="mf">18843.14</span><span class="p">,</span>
            <span class="s2">"entry_price"</span><span class="p">:</span> <span class="mi">6001</span><span class="p">,</span>
            <span class="s2">"liq_price"</span><span class="p">:</span> <span class="mi">5428</span><span class="p">,</span>
            <span class="s2">"bust_price"</span><span class="p">:</span> <span class="mi">5398</span><span class="p">,</span>
            <span class="s2">"leverage"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s2">"position_margin"</span><span class="p">:</span> <span class="mf">1907.0331195</span><span class="p">,</span>
            <span class="s2">"occ_closing_fee"</span><span class="p">:</span> <span class="mf">12.71229</span><span class="p">,</span>
            <span class="s2">"realised_pnl"</span><span class="p">:</span> <span class="mf">3052.20905294</span><span class="p">,</span>
            <span class="s2">"cum_realised_pnl"</span><span class="p">:</span> <span class="mf">75628.40815795</span><span class="p">,</span>
            <span class="s2">"free_qty"</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="s2">"wallet_balance"</span><span class="p">:</span> <span class="mf">68738.01696765</span><span class="p">,</span>
        <span class="s2">"available_balance"</span><span class="p">:</span> <span class="mf">66830.98384815</span>
    <span class="p">},</span>
     <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577480599.097287"</span><span class="p">,</span>
     <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
     <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
     <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre>
<p>追加保证金</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=pAddMargin>/private/linear/position/add-margin</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pAddMargin"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">margin</td>
<td style="text-align: left">true</td>
<td style="text-align: left">number</td>
<td>增加/减少多少保证金,增加10，减少-10，支持小数后4位</td>
</tr>
</tbody></table>
<h3 id='t-usertraderecords'>用户成交记录</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
        <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"current_page"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"7369b2f4-52f1-4698-abf7-368e4ba9aefa"</span><span class="p">,</span>
                    <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                    <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>  <span class="c1">//<a href="#side-side">方向枚举</a></span>
                    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span> <span class="c1">//<a href="#symbol-symbol">交易对枚举</a></span>
                    <span class="s2">"exec_id"</span><span class="p">:</span> <span class="s2">"9b8216fa-98d7-55c0-b5fa-279db5727996"</span><span class="p">,</span>
                    <span class="s2">"price"</span><span class="p">:</span> <span class="mi">5894</span><span class="p">,</span><span class="c1">//<b>已废弃!!</b></span>
                    <span class="s2">"order_price"</span><span class="p">:</span> <span class="mi">5894</span><span class="p">,</span>
                    <span class="s2">"order_qty"</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
                    <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Limit"</span><span class="p">,</span> <span class="c1">//<a href="#order-type-order_type">订单类型枚举</a></span>
                    <span class="s2">"fee_rate"</span><span class="p">:</span> <span class="mf">0.00075</span><span class="p">,</span>
                    <span class="s2">"exec_price"</span><span class="p">:</span> <span class="mi">5894</span><span class="p">,</span>
                    <span class="s2">"exec_type"</span><span class="p">:</span> <span class="s2">"Trade"</span><span class="p">,</span> <span class="c1">//<a href="#exec-type-exec_type">交易类型枚举</a></span>
                    <span class="s2">"exec_qty"</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
                    <span class="s2">"exec_fee"</span><span class="p">:</span> <span class="mf">0.0044205</span><span class="p">,</span>
                    <span class="s2">"exec_value"</span><span class="p">:</span> <span class="mf">5.894</span><span class="p">,</span>
                    <span class="s2">"leaves_qty"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">"closed_size"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">// 平仓委托对应的平仓size</span>
                    <span class="s2">"last_liquidity_ind"</span><span class="p">:</span> <span class="s2">"RemovedLiquidity"</span><span class="p">,</span>  <span class="c1">//<a href="#liquidity-type-last_liquidity_ind">流动性类型枚举</a></span>
                    <span class="s2">"trade_time"</span><span class="p">:</span> <span class="mi">1585547384</span><span class="p">,</span><span class="c1">//<b>已废弃!!</b></span>
                    <span class="s2">"trade_time_ms"</span><span class="p">:</span> <span class="mi">1585547384847</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577480599.097287"</span><span class="p">,</span>
        <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
        <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
        <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">120</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre>
<p>获取用户成交记录，按时间降序排列。</p>

<aside class="notice">
一个订单可能有多笔成交记录。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpeList>/private/linear/trade/execution/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpeList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">start_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>开始时间戳（毫秒）</td>
</tr>
<tr>
<td style="text-align: left">end_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>结束时间戳（毫秒）</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>交易类型</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条，最多50条每页</td>
</tr>
</tbody></table>
<h3 id='t-closedprofitandloss'>平仓盈亏</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
     <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
     <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
     <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
     <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
         <span class="s2">"current_page"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
         <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                 <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1710</span><span class="p">,</span>
                 <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">160815</span><span class="p">,</span>
                 <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                 <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"e6a11e08-6dd0-404e-bea7-dc22b7ab0228"</span><span class="p">,</span>
                 <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
                 <span class="s2">"qty"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                 <span class="s2">"order_price"</span><span class="p">:</span> <span class="mi">999999</span><span class="p">,</span>
                 <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Market"</span><span class="p">,</span>
                 <span class="s2">"exec_type"</span><span class="p">:</span> <span class="s2">"Trade"</span><span class="p">,</span>
                 <span class="s2">"closed_size"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>        <span class="c1">//对应的平仓size</span>
                 <span class="s2">"cum_entry_value"</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>   <span class="c1">//被平掉的position_value</span>
                 <span class="s2">"avg_entry_price"</span><span class="p">:</span> <span class="mi">6000</span><span class="p">,</span>   <span class="c1">//平均入场价</span>
                 <span class="s2">"cum_exit_value"</span><span class="p">:</span> <span class="mf">3000.5</span><span class="p">,</span>  <span class="c1">//平仓订单累计成交价值</span>
                 <span class="s2">"avg_exit_price"</span><span class="p">:</span> <span class="mi">6001</span><span class="p">,</span>    <span class="c1">//平均出场价</span>
                 <span class="s2">"closed_pnl"</span><span class="p">:</span> <span class="o">-</span><span class="mf">5.000375</span><span class="p">,</span>   <span class="c1">//与平仓size等比例对应的盈亏</span>
                 <span class="s2">"fill_count"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>           <span class="c1">//成交笔数</span>
                 <span class="s2">"leverage"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
                 <span class="s2">"created_at"</span><span class="p">:</span> <span class="mi">1577480599</span>
             <span class="p">}</span>
         <span class="p">]</span>
     <span class="p">},</span>
     <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577480599.097287"</span><span class="p">,</span>
     <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
     <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
     <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">120</span>

<span class="p">}</span>
</code></pre>
<p>获取用户平仓记录，按时间降序排列。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=pltcList>/private/linear/trade/closed-pnl/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pltcList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">start_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>开始时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">end_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>结束时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>交易类型</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条，最多50条每页</td>
</tr>
</tbody></table>
<h2 id='t-risklimit'>风险限额</h2><h3 id='t-getrisklimit'>查询风险限额表</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.005</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"25"</span><span class="p">,</span>
                <span class="s2">"50"</span><span class="p">,</span>
                <span class="s2">"100"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">1500000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.015</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"25"</span><span class="p">,</span>
                <span class="s2">"50"</span><span class="p">,</span>
                <span class="s2">"66"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">2000000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.015</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"25"</span><span class="p">,</span>
                <span class="s2">"33"</span><span class="p">,</span>
                <span class="s2">"50"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">2500000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.025</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"25"</span><span class="p">,</span>
                <span class="s2">"33"</span><span class="p">,</span>
                <span class="s2">"40"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">3000000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.025</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.03</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"15"</span><span class="p">,</span>
                <span class="s2">"25"</span><span class="p">,</span>
                <span class="s2">"33"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">3500000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.03</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.035</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"15"</span><span class="p">,</span>
                <span class="s2">"20"</span><span class="p">,</span>
                <span class="s2">"28"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">4000000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.035</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.04</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"15"</span><span class="p">,</span>
                <span class="s2">"20"</span><span class="p">,</span>
                <span class="s2">"25"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">4500000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.04</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.045</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"15"</span><span class="p">,</span>
                <span class="s2">"20"</span><span class="p">,</span>
                <span class="s2">"22"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">5000000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.045</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"4"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"15"</span><span class="p">,</span>
                <span class="s2">"20"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:28.000Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">5500000</span><span class="p">,</span>
            <span class="s2">"maintain_margin"</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
            <span class="s2">"starting_margin"</span><span class="p">:</span> <span class="mf">0.055</span><span class="p">,</span>
            <span class="s2">"section"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"1"</span><span class="p">,</span>
                <span class="s2">"2"</span><span class="p">,</span>
                <span class="s2">"3"</span><span class="p">,</span>
                <span class="s2">"4"</span><span class="p">,</span>
                <span class="s2">"5"</span><span class="p">,</span>
                <span class="s2">"10"</span><span class="p">,</span>
                <span class="s2">"15"</span><span class="p">,</span>
                <span class="s2">"18"</span>
            <span class="p">],</span>
            <span class="s2">"is_lowest_risk"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:29.000Z"</span><span class="p">,</span>
            <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-06T09:45:29.000Z"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1586780586.850288"</span>
<span class="p">}</span>
</code></pre>
<p>查询风险限额表。</p>

<aside class="notice">
关于风险限额，点击<a href="https://help.bybit.com/hc/en-us/articles/360007107454-Risk-Limit-Overview">这里</a>了解更多。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oawrlList>/public/linear/risk-limit</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawrlList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
</tbody></table>
<h2 id='t-funding'>资金费率</h2><h3 id='t-mylastfundingfee'>查询上个周期资金费用结算信息</h3>
<blockquote>
<p>Curl 请求示例</p>
</blockquote>
<pre class="highlight shell_session"><code>curl https://api.bybit.com/private/linear/funding/prev-funding?symbol=BTCUSDT
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
        <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
        <span class="s2">"size"</span><span class="p">:</span> <span class="mf">3.13</span><span class="p">,</span>
        <span class="s2">"funding_rate"</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
        <span class="s2">"exec_fee"</span><span class="p">:</span> <span class="mf">1.868923</span><span class="p">,</span>
        <span class="s2">"exec_time"</span><span class="p">:</span> <span class="s2">"2020-04-13T08:00:00.000Z"</span>
    <span class="p">},</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1586780352.867171"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1586780352864</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre>
<p>获取Bybit的最近成交数据。如果您想获取历史所有的成交记录，请通过<a href="https://public.bybit.com">这里</a>下载历史行情。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpPreFunding>/private/linear/funding/prev-funding</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpPreFunding"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>
<h3 id='t-predictedfunding'>查询预测资金费率和资金费用</h3>
<blockquote>
<p>Curl 请求示例</p>
</blockquote>
<pre class="highlight shell_session"><code>curl https://api.bybit.com/private/linear/funding/predicted-funding?symbol=BTCUSDT
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"predicted_funding_rate"</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.00375</span><span class="p">,</span>
        <span class="s2">"predicted_funding_fee"</span><span class="p">:</span> <span class="mf">0.13081256</span>
    <span class="p">},</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1587035697.424492"</span><span class="p">,</span>
    <span class="s2">"rate_limit_status"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="s2">"rate_limit_reset_ms"</span><span class="p">:</span> <span class="mi">1587035697422</span><span class="p">,</span>
    <span class="s2">"rate_limit"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre>
<p>查询预测资金费率和资金费用。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpPredictedFunding>/private/linear/funding/predicted-funding</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpPredictedFunding"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>
<h2 id='t-key'>APIKey信息</h2>
<p><a href="/docs/inverse#t-latestsymbolinfo">请点击查看接口描述。</a></p>
<h1 id='t-wallet'>钱包接口</h1>
<p>钱包相关接口需要认证。</p>
<h3 id='t-balance'>获取钱包余额</h3>
<p><a href="/docs/inverse#t-balance">请点击查看接口描述。</a></p>
<h3 id='t-walletrecords'>资金记录</h3>
<p><a href="/docs/inverse#t-walletrecords">请点击查看接口描述。</a></p>
<h3 id='t-withdrawrecords'>提币记录</h3>
<p><a href="/docs/inverse#t-withdrawrecords">请点击查看接口描述。</a></p>
<h1 id='t-api'>通用数据接口</h1>
<p>通用数据接口不需要鉴权。</p>
<h3 id='t-servertime'>服务器时间</h3>
<blockquote>
<p>Curl 请求示例</p>
</blockquote>
<pre class="highlight shell_session"><code>curl https://api-testnet.bybit.com/v2/public/time
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577444332.192859"</span>
<span class="p">}</span>
</code></pre>
<p>获取Bybit服务器时间</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpTime>/v2/public/time</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpTime"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='t-announcement'>公告</h3>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"ret_code"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"OK"</span><span class="p">,</span>
    <span class="s2">"ext_code"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"ext_info"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"result"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"2019-12-02 RELEASE"</span><span class="p">,</span>
            <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/CHANGELOG.md"</span><span class="p">,</span>
            <span class="s2">"summary"</span><span class="p">:</span> <span class="s2">"&lt;p&gt;New `cancel all` endpoint is here now!&lt;/p&gt;&lt;p&gt;Additionally, we strongly recommend that you use the new released place and cancel active V2 endpoints, which are more stable and efficient.The old ones are deprecated (although still working for the time be"</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2019-12-02T11:33:42Z"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"time_now"</span><span class="p">:</span> <span class="s2">"1577444818.227082"</span>
<span class="p">}</span>
</code></pre>
<p>获取Bybit最近30天OpenAPI公告（时间倒叙排列）</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpAnnouncement>/v2/public/announcement</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpAnnouncement"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
</tbody></table>
<h1 id='t-ratelimits'>频率限制</h1><h3 id='t-ipratelimits'>IP频率限制</h3>
<p><p> Bybit会基于请求IP做频率限制，针对不同的请求方法有以下规则：</p>
<ul>
<li>
  <code>GET</code>方法:
  <ul>
    <li>每秒不超过70个请求</li>
    <li>连续2分钟内每秒不超过50个请求</li>
  </ul>
</li>
<li>
  <code>POST</code>方法:
  <ul>
    <li>每秒不超过50个请求</li>
    <li>连续2分钟内每秒不超过20个请求</li>
  </ul>
</li>
</ul>
</p>
<h3 id='t-understandingratelimits'>账户频率限制</h3>
<p>Bybit基于<b>每分钟</b>的滚动时间窗口来做频率限制，并且是按<b>账户</b>（uid）和交易对（symbol）来做划分限制，每次请求API响应中都会包含如下字段：
</p>
<pre class="highlight plaintext"><code>"rate_limit_status": 119,
"rate_limit_reset_ms": 1572114055663,
"rate_limit": 120
</code></pre>
<ul>
<li><code>rate_limit_status</code> - 该接口当前时间窗口剩余可用请求数</li>
<li><code>rate_limit</code> - 该接口当前频率限制上限</li>
<li><code>rate_limit_reset_ms</code> - 如果您已超过该接口当前窗口频率限制，该字段表示下个可用时间窗口的时间戳（毫秒），即什么时候可以恢复访问；如果您未超过该接口当前窗口频率限制，该字段表示返回的是当前服务器时间（毫秒).</li>
</ul>
<h3 id='t-perendpoint'>接口频率限制表</h3>
<table class="custom_table">
  <tr>
    <th>频率限制</th>
    <th>请求路径</th>
    <th>消耗</th>
  </tr>
  <tr>
    <td rowspan="6">100/min</td>
    <td>/private/linear/order/create </td>
    <td>1 / request</td>
  </tr>
  <tr><td>/private/linear/order/cancel </td><td>1 / request</td></tr>
  <tr><td>/private/linear/order/cancel-all </td><td>10 / request</td></tr>
  <tr><td>/private/linear/stop-order/create </td><td>1 / request</td></tr>
  <tr><td>/private/linear/stop-order/cancel </td><td>1 / request</td></tr>
  <tr><td>/private/linear/stop-order/cancel-all </td><td>10 / request</td></tr>
  <tr>
    <td rowspan="5">75/min</td>
    <td>/private/linear/position/set-leverage   </td>
    <td>1 / request</td>
  </tr>
  <tr><td>/private/linear/position/switch-isolated </td><td>1 / request</td></tr>
  <tr><td>/private/linear/position/set-auto-add-margin </td><td>1 / request</td></tr>
  <tr><td>/private/linear/position/trading-stop </td><td>1 / request</td></tr>
  <tr><td>/private/linear/position/add-margin </td><td>1 / request</td></tr>
    
  <tr>
    <td rowspan="3">120/min</td>
    <td>/private/linear/position/list  </td>
    <td>1 / request</td>
  </tr>
  <tr><td>/private/linear/trade/closed-pnl/list </td><td>1 / request</td></tr>
  <tr><td>/private/linear/trade/execution/list </td><td>1 / request</td></tr>
    
  <tr>
    <td rowspan="4">600/min</td>
    <td>/private/linear/order/list </td>
    <td>1 / request</td>
  </tr>
  <tr><td>/private/linear/order/search </td><td>1 / request</td></tr>
  <tr><td>/private/linear/stop-order/list </td><td>1 / request</td></tr>
  <tr><td>/private/linear/stop-order/search </td><td>1 / request</td></tr>
  
  <tr>
    <td rowspan="2">120/min</td>
    <td>/private/linear/funding/prev-funding  </td>
    <td>1 / request</td>
  </tr>
  <tr><td>/private/linear/funding/predicted-funding </td><td>1 / request</td></tr>
</table>
<h3 id='t-orderlimits'>下单限制</h3>
<p><p>每种合约可以持有的订单数量上限：</p>
<ul>
<li>活动单: 500</li>
<li>条件单: 10</li>
</ul>
</p>
<h3 id='t-raisemylimit'>如何提高频率限制</h3>
<p><ul>
<li>请先阅读<a href="#t-raisemylimit">如何满足提高频率限制条件</a></li>
<li>请发送邮件到 <a href="mailto:api@bybit.com">api@bybit.com</a>，我们会在 1-4 个工作日内答复。邮件内容必须包含以下内容：</li>
<ol>
  <li>您的姓名和公司名称和简介</li>
  <li>您的bybit 账号uid或注册邮箱手机号,以及您要申请提频的交易对</li>
  <li>您上个月的交易量（吃单/挂单）并提供截图</li>
  <li>简单介绍您的交易策略和为什么需要更高限频</li>
  <li>如果可以，请提供您的成交记录csv文档</li>
</ol>
</ul>
</p>
<h3 id='t-liquidity'>Bybit流动性贡献系统</h3>
<p><p>Bybit 使用<code>报单成交率</code> 和 <code>流动性贡献打分</code>来评价用户对改善bybit可执行流动性作出的贡献。</p>
<p>不同symbol的<code>贡献分</code>和<code>报单成交率</code>是独立计算的。</p>
</p>
<h4 id='t-ofrthreshold'>报单成交率</h4>
<p>平台上每天提交超过<code>2000</code>个报单的账户，需要保持<code>7天</code>的报单成交率高于<code>最小报单成交率门槛值</code>，违反此规则将会被降低频率或禁用 API。
</p>
<h5 id='t-ofrratio'>报单成交率</h5>
<p><ul>
<li><code>报单成交率</code>: 定义为 一段时间段内，用户已成交报单数量占该用户已提交报单数量的比例</li>
<li><code>已提交报单</code>: 是任何已成功发送到平台的委托</li>
<li><code>已成交报单</code>: 是成交了任何数量的委托</li>
<li><code>报单成交率 = ( 一段时间内用户的已成交报单数量 / 一段时间内已提交报单数量)</code></li>
</ul>
</p>
<h5 id='t-ofrratioexample'>报单成交率举例</h5>
<pre class="center-column-nonindent">
A用户：
已成交报单数量 = 2
已提交报单数量 =8
报单成交率 = 2 / 8 = 25％

</pre>

<pre class="center-column-nonindent">
B用户：
已成交报单数量 = 1
已提交报单数量 =1
报单成交率 = 1 / 1 = 100％

</pre>
<h5 id='t-ofrminimum'>API 交易用户最小报单成交率门槛</h5>
<p><code>7</code>日内API 交易用户最小报单成交率门槛 0.1%</p>
<h4 id='t-frequencylimit'>API 交易用户提高频率的条件</h4>
<p>平台会根据API用户近<code>7</code>日挂单对<code>平台流动性贡献分</code>的最低值，对满足条件的用户进行提高频率上限的奖励</p>

<table><thead>
<tr>
<th>流动性贡献分</th>
<th>Order频率限制</th>
</tr>
</thead><tbody>
<tr>
<td>20-100</td>
<td>800次 / 每分钟</td>
</tr>
<tr>
<td>10-20</td>
<td>600次 / 每分钟</td>
</tr>
<tr>
<td>5-10</td>
<td>400次 / 每分钟</td>
</tr>
<tr>
<td>2-5</td>
<td>200次 / 每分钟</td>
</tr>
<tr>
<td>&lt;2</td>
<td>100次 / 每分钟</td>
</tr>
</tbody></table>
<h5 id='t-liquiditypoints'>流动性贡献打分</h5>
<p><ul>
<li><code>流动性贡献打分 = 有效价格挂单自占比 * 有效价格挂单量平台占比 * 100</code></li>
</ul>
</p>
<h5 id='t-ratelimitsexplanation'>名词解释</h5><h6 id='t-pricerange'>有效价格挂单</h6>
<p><ul>
<li><p><code>有效价格挂单</code>: 定义为在距离盘口中间价较近的规定范围内的挂单被定义为有效价格挂单.</p>
</li>
<li><p><code>最佳竞价中间价</code>:  (最佳竞买价 + 最佳竞卖价) 的均值</p>
</li>
<li><p><code>最佳竞价中间价 = 1/2*（最佳竞买价 + 最佳竞卖价）</code></p>
</li>
</ul>
</p>
<h6 id='t-pricerangeexample'>有效价格范围</h6>
<pre class="center-column-nonindent">
[最佳竞价中间价 - 3 * 价格最小变动单位, 最佳竞价中间价 + 3 * 价格最小变动单位]

举例：
 BTC最佳竞买价 = 10000
 BTC最佳竞卖价 = 10001
 “有效价格”范围：
 [(10000 + 10001) / 2 - 3* 0.5, (10000 + 10001) / 2 + 3* 0.5] = [9999,10002]

</pre>
<h6 id='t-pou'>有效价格挂单自占比</h6>
<p><ul>
<li><code>有效价格挂单自占比</code>: 定义为该用户在 <code>有效价格 </code> 范围内的挂单数量占该用户在当前时间提交的挂单总数量的比例。</li>
</ul>
<p>每秒计算 该用户在<code>有效价格</code>范围内的报挂单数量 /该用户提交的挂单总数量，然后每日计算用户当日占比的平均值。</p>
</p>

<pre class="center-column-nonindent">
该用户在<code>有效价格</code>范围内的挂单数量 = 8000
该用户提交的挂单总数量 = 10000
有效价格挂单自占比 = 8000 / 10000 = 0.8

</pre>
<h6 id='t-poa'>有效价格挂单平台占比</h6>
<p><ul>
<li><code>有效价格挂单平台占比</code>: 定义为该用户在有效价格范围内的挂单数量占平台所有用户在<code>有效价格</code>范围内的挂单总数量的比例.</li>
</ul>
<p>每秒计算 该用户在<code>有效价格</code>范围内的挂单数量 / 平台所有用户在<code>有效价格</code>范围内的挂单总数量，然后每日计算用户当日占比的平均值。</p>
</p>
<h6 id='t-poaexample'>有效价格挂单平台占比举例：</h6>
<p>某一秒，用户在“有效价格”范围：[9999, 10002] 内的挂单有8000张，全平台的交易委托账本在 [9999, 10002] 内的挂单总量为200000。</p>

<pre class="center-column-nonindent">
该用户在<code>有效价格</code>范围内的挂单数量 = 8000
平台所有用户在<code>有效价格</code>范围内的挂单总数量 = 200000
有效价格挂单量平台占比 = 8000 / 200000 = 0.04

</pre>

<aside class="notice">
如果机制有更新，我们会提前通过官网提前通知。
</aside>
<h1 id='t-websocket'>WebSocket接口</h1><h2 id='t-websocketauthentication'>鉴权/认证</h2>
<blockquote>
<p>认证方式:
</p>

<p>方法1: 建立连接时附带验证信息.
</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">api_key</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">secret</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="c1">// A UNIX timestamp after which the request become invalid. This is to prevent replay attacks.</span>
<span class="c1">// unit:millisecond</span>
<span class="kd">var</span> <span class="nx">expires</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="o">+</span><span class="mi">1000</span><span class="p">;</span>

<span class="c1">// Signature</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">hex</span><span class="p">(</span><span class="nx">HMAC_SHA256</span><span class="p">(</span><span class="nx">secret</span><span class="p">,</span> <span class="s1">'GET/realtime'</span> <span class="o">+</span> <span class="nx">expires</span><span class="p">));</span>

<span class="c1">// Parameters string</span>
<span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="s2">"api_key={api_key}&amp;expires={expires}&amp;signature={signature}"</span><span class="p">;</span>

<span class="c1">// Establishing connection</span>
<span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="s2">"wsurl?param"</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>方法2: 建立连接后发送auth请求验证.
</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="s2">"wsurl"</span><span class="p">)</span>
<span class="c1">// Signature is the same for both methods of authentication</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op":"auth","args":["{api_key}","{expires}","{signature}"]}'</span><span class="p">);</span>
</code></pre>
<p>Websocket服务器地址:
<ul>
<p>
  <li>测试网公共topic地址:
    <span id="testnet_address">wss://stream-testnet.bybit.com/realtime_public</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#testnet_address"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
  <li>测试网私有topic地址:
    <span id="testnet_address">wss://stream-testnet.bybit.com/realtime_private</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#testnet_address"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
<p>
  <li>主网公共topic地址:
    <span id="mainnet_address">wss://stream.bybit.com/realtime_public</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_address"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
  <li>主网私有topic地址:
    <span id="mainnet_address">wss://stream.bybit.com/realtime_private</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_address"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
</ul>
</p>

<aside class="notice">
<b>公共类</b>topics不需要进行验证. 以下部分只适用于 <b>私有</b> 类接口.
</aside>

<p>如右侧代码区所示，一共有两种验证方法.</p>

<aside class="notice">
点击查看 <a href="https://github.com/bybit-exchange/api-connectors/tree/master/encryption_example">示例加密算法</a>.
</aside>

<aside class="warning">
由于网络的复杂性，您和Bybit的websocket链接随时可能会断开，为了保证您能及时收到websocket推送消息，强烈建议您按照以下建议处理网络异常： <p>1. 通过<a href="#t-heartbeat">发送心跳包</a>保持连接</p> <p>2. 一旦发现连接断开，应该立刻重新建立连接。</p>
</aside>
<h2 id='t-heartbeat'>心跳包/Ping</h2>
<blockquote>
<p>如何发送心跳包</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op":"ping"}'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"success"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// Whether ping is successful</span>
    <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">"pong"</span><span class="p">,</span>
    <span class="s2">"conn_id"</span><span class="p">:</span> <span class="s2">"036e5d21-804c-4447-a92d-b65a44d00700"</span><span class="p">,</span><span class="c1">// current connection id</span>
    <span class="s2">"request"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"op"</span><span class="p">:</span> <span class="s2">"ping"</span><span class="p">,</span>
        <span class="s2">"args"</span><span class="p">:</span> <span class="kc">null</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<aside class="warning">
由于网络或者程序不稳定,我们强烈建议您使用 <code>ping</code> 心跳包来维持连接. 心跳包建议每30秒发送一次.
</aside>

<!-- 连接数限制
## 频率限制
注意，每个api_key最多可以保持20个Websocket连接.超过20个连接后的新连接会被服务器拒绝.
-->
<h2 id='t-subscribe'>订阅方式</h2><h3 id='t-websocketfilters'>Websocket订阅方式</h3>
<blockquote>
<p>直接订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Subscribing to the trade data for ETHBTC</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op":"subscribe","args":["trade.ETHBTC"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>通过分隔符来订阅多个topic</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Example: Subscribing to the trade data for BTCUSD and XRPUSD</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op":"subscribe","args":["trade.BTCUSD|XRPUSD"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>通过匹配符来订阅多个topic</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Example: Subscribing to the trade data for all symbols</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["trade.*"]}'</span><span class="p">)</span>
</code></pre>
<p>建立连接后, 可以通过发送JSON请求来订阅topic. 请求格式如下:
</p>

<p><code>ws.send(&#39;{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;topic.filter&quot;]}&#39;);</code></p>

<p><p>您也可以同时订阅多个感兴趣的topic，订阅方式如下</p>
</p>

<p><code>ws.send(&#39;{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;topic.filter&quot;, &quot;topic.filter&quot;]}&#39;);</code></p>

<p><p>您可以使用管道符号(<code>|</code>)来分割多个参数，前提是这些参数都是合法的.</p>
<p>您还可以使用匹配符号(<code>*</code>)来匹配多个topic，具体用法见右侧代码栏</p>
</p>
<h3 id='t-intervals'>推送周期</h3>
<p>如果topic名中包含一个<code>推送周期</code>，如<code>100ms</code>, 那么表明这个topic是每隔<code>100ms</code>推送一次.否则, 这个topic<code>只要有消息就会推送</code>.</p>
<h2 id='t-websocketresponse'>订阅结果</h2>
<blockquote>
<p>订阅推送</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
   <span class="s2">"success"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// Whether subscription is successful</span>
   <span class="s2">"ret_msg"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>   <span class="c1">// Successful subscription: "", otherwise it shows error message</span>
   <span class="s2">"conn_id"</span><span class="p">:</span><span class="s2">"e0e10eee-4eff-4d21-881e-a0c55c25e2da"</span><span class="p">,</span><span class="c1">// current connection id</span>
   <span class="s2">"request"</span><span class="p">:</span> <span class="p">{</span>     <span class="c1">// Request to your subscription</span>
       <span class="s2">"op"</span><span class="p">:</span> <span class="s2">"subscribe"</span><span class="p">,</span>
       <span class="s2">"args"</span><span class="p">:</span> <span class="p">[</span>
           <span class="s2">"kline.BTCUSD.1m"</span>
       <span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>每个topic订阅请求都会有对应的响应，您可以根据返回结果判断是否订阅成功。</p>
<h2 id='t-publictopics'>公共 Topics</h2><h3 id='t-websocketorderbook25'>orderBook25档</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["orderBookL2_25.BTCUSDT"]}'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>快照推送示例 - 连接建立成功后首次推送</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"orderBookL2_25.BTCUSDT"</span><span class="p">,</span>
     <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"snapshot"</span><span class="p">,</span>
     <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"2999.00"</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
            <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
            <span class="s2">"size"</span><span class="p">:</span> <span class="mi">9</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"3001.00"</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
            <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
            <span class="s2">"size"</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
     <span class="p">],</span>
     <span class="s2">"cross_seq"</span><span class="p">:</span> <span class="mi">11518</span><span class="p">,</span>
     <span class="s2">"timestamp_e6"</span><span class="p">:</span> <span class="mi">1555647164875373</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>增量推送示例 - 快照数据推送后，推送的增量数据</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"orderBookL2_25.BTCUSDT"</span><span class="p">,</span>
     <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"delta"</span><span class="p">,</span>
     <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">"delete"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"3001.00"</span><span class="p">,</span>
                   <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                   <span class="s2">"id"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
                   <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="s2">"update"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"2999.00"</span><span class="p">,</span>
                   <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                   <span class="s2">"id"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
                   <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
                   <span class="s2">"size"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="s2">"insert"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"2998.00"</span><span class="p">,</span>
                   <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                   <span class="s2">"id"</span><span class="p">:</span> <span class="mi">29980000</span><span class="p">,</span>
                   <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
                   <span class="s2">"size"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="s2">"transactTimeE6"</span><span class="p">:</span> <span class="mi">0</span>
     <span class="p">},</span>
     <span class="s2">"cross_seq"</span><span class="p">:</span> <span class="mi">11519</span><span class="p">,</span>
     <span class="s2">"timestamp_e6"</span><span class="p">:</span> <span class="mi">1555647221331673</span>
<span class="p">}</span>
</code></pre>
<p>获取25档orderbook数据.</p>

<aside class="notice">
想要更多深度？请使用<a href="#t-websocketorderbook200">orderBookL2_200</a> topic
</aside>

<p><p>订阅成功后, 会立即得到一个当前快照包的推送信息. orderbook数据按订单价格升序排列, 从最低价格的买单到最高价格的卖单.</p>
<p>快照包之后，每当orderbook发生变化，websocket都会推送这些变化的增量数据.</p>
</p>
<h3 id='t-websocketorderbook200'>orderBook200档</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["orderBook_200.100ms.BTCUSDT"]}'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>快照推送示例 - 连接建立成功后首次推送</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"orderBook_200.100ms.BTCUSDT"</span><span class="p">,</span>
     <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"snapshot"</span><span class="p">,</span>
     <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"2999.00"</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
            <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
            <span class="s2">"size"</span><span class="p">:</span> <span class="mi">9</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"3001.00"</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
            <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
            <span class="s2">"size"</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
     <span class="p">],</span>
     <span class="s2">"cross_seq"</span><span class="p">:</span> <span class="mi">11518</span><span class="p">,</span>
     <span class="s2">"timestamp_e6"</span><span class="p">:</span> <span class="mi">1555647164875373</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>增量推送示例 - 快照数据推送后，推送的增量数据</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"orderBook_200.100ms.BTCUSDT"</span><span class="p">,</span>
     <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"delta"</span><span class="p">,</span>
     <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">"delete"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"3001.00"</span><span class="p">,</span>
                   <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                   <span class="s2">"id"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
                   <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="s2">"update"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"2999.00"</span><span class="p">,</span>
                   <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                   <span class="s2">"id"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
                   <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
                   <span class="s2">"size"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="s2">"insert"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"2998.00"</span><span class="p">,</span>
                   <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                   <span class="s2">"id"</span><span class="p">:</span> <span class="mi">29980000</span><span class="p">,</span>
                   <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
                   <span class="s2">"size"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="s2">"transactTimeE6"</span><span class="p">:</span> <span class="mi">0</span>
     <span class="p">},</span>
     <span class="s2">"cross_seq"</span><span class="p">:</span> <span class="mi">11519</span><span class="p">,</span>
     <span class="s2">"timestamp_e6"</span><span class="p">:</span> <span class="mi">1555647221331673</span>
<span class="p">}</span>
</code></pre>
<p><p>获取200档orderbook数据.</p>
<p>订阅成功后, 会立即得到一个当前快照包的推送信息. orderbook数据按订单价格升序排序, 从最低价格的买单到最高价格的卖单.</p>
<p>快照包之后，每当orderbook发生变化，websocket将会继续推送这些增量数据.</p>
</p>
<h3 id='t-websocketinstrumentinfo'>行情</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["instrument_info.100ms.BTCUSDT"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>快照推送示例 - 连接建立成功后首次推送</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"instrument_info.100ms.BTCUSDT"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"snapshot"</span><span class="p">,</span>
    <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>                           <span class="c1">//instrument name</span>
        <span class="s2">"last_price_e4"</span><span class="p">:</span> <span class="mi">81165000</span><span class="p">,</span>                    <span class="c1">//the latest price</span>
        <span class="s2">"last_tick_direction"</span><span class="p">:</span> <span class="s2">"ZeroPlusTick"</span><span class="p">,</span>        <span class="c1">//the direction of last tick:PlusTick,ZeroPlusTick,MinusTick,ZeroMinusTick</span>
        <span class="s2">"prev_price_24h_e4"</span><span class="p">:</span> <span class="mi">81585000</span><span class="p">,</span>                <span class="c1">//the price of prev 24h</span>
        <span class="s2">"price_24h_pcnt_e6"</span><span class="p">:</span> <span class="o">-</span><span class="mi">5148</span><span class="p">,</span>                   <span class="c1">//the current last price percentage change from prev 24h price</span>
        <span class="s2">"high_price_24h_e4"</span><span class="p">:</span> <span class="mi">82900000</span><span class="p">,</span>                <span class="c1">//the highest price of prev 24h</span>
        <span class="s2">"low_price_24h_e4"</span><span class="p">:</span> <span class="mi">79655000</span><span class="p">,</span>                 <span class="c1">//the lowest price of prev 24h</span>
        <span class="s2">"prev_price_1h_e4"</span><span class="p">:</span> <span class="mi">81395000</span><span class="p">,</span>                 <span class="c1">//the price of prev 1h</span>
        <span class="s2">"price_1h_pcnt_e6"</span><span class="p">:</span> <span class="o">-</span><span class="mi">2825</span><span class="p">,</span>                    <span class="c1">//the current last price percentage change from prev 1h price</span>
        <span class="s2">"mark_price_e4"</span><span class="p">:</span> <span class="mi">81178500</span><span class="p">,</span>                    <span class="c1">//mark price</span>
        <span class="s2">"index_price_e4"</span><span class="p">:</span> <span class="mi">81172800</span><span class="p">,</span>                   <span class="c1">//index price</span>
        <span class="s2">"open_interest"</span><span class="p">:</span> <span class="mi">154418471</span><span class="p">,</span>                   <span class="c1">//open interest quantity - Attention, the update is not immediate - slowest update is 1 minute</span>
        <span class="s2">"open_value_e8"</span><span class="p">:</span> <span class="mi">1997561103030</span><span class="p">,</span>               <span class="c1">//open value quantity - Attention, the update is not immediate - the slowest update is 1 minute</span>
        <span class="s2">"total_turnover_e8"</span><span class="p">:</span> <span class="mi">2029370141961401</span><span class="p">,</span>        <span class="c1">//total turnover</span>
        <span class="s2">"turnover_24h_e8"</span><span class="p">:</span> <span class="mi">9072939873591</span><span class="p">,</span>             <span class="c1">//24h turnover</span>
        <span class="s2">"total_volume"</span><span class="p">:</span> <span class="mi">175654418740</span><span class="p">,</span>                 <span class="c1">//total volume</span>
        <span class="s2">"volume_24h"</span><span class="p">:</span> <span class="mi">735865248</span><span class="p">,</span>                      <span class="c1">//24h volume</span>
        <span class="s2">"funding_rate_e6"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>                       <span class="c1">//funding rate</span>
        <span class="s2">"predicted_funding_rate_e6"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>             <span class="c1">//predicted funding rate</span>
        <span class="s2">"cross_seq"</span><span class="p">:</span> <span class="mi">1053192577</span><span class="p">,</span>                      <span class="c1">//sequence</span>
        <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2018-11-14T16:33:26Z"</span><span class="p">,</span>         
        <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-12T18:25:16Z"</span><span class="p">,</span>         
        <span class="s2">"next_funding_time"</span><span class="p">:</span> <span class="s2">"2020-01-13T00:00:00Z"</span><span class="p">,</span>  <span class="c1">//next funding time</span>
                                                      <span class="c1">//the rest time to settle funding fee</span>
        <span class="s2">"countdown_hour"</span><span class="p">:</span> <span class="mi">6</span>                           <span class="c1">//the remaining time to settle the funding fee</span>
    <span class="p">},</span>
    <span class="s2">"cross_seq"</span><span class="p">:</span> <span class="mi">1053192634</span><span class="p">,</span>
    <span class="s2">"timestamp_e6"</span><span class="p">:</span> <span class="mi">1578853524091081</span>                  <span class="c1">//the timestamp when this information was produced</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>增量推送示例 - 快照数据推送后，推送的增量数据</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"instrument_info.100ms.BTCUSDT"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"delta"</span><span class="p">,</span>
    <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"delete"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">"update"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
                <span class="s2">"prev_price_24h_e4"</span><span class="p">:</span> <span class="mi">81565000</span><span class="p">,</span>
                <span class="s2">"price_24h_pcnt_e6"</span><span class="p">:</span> <span class="o">-</span><span class="mi">4904</span><span class="p">,</span>
                <span class="s2">"open_value_e8"</span><span class="p">:</span> <span class="mi">2000479681106</span><span class="p">,</span>
                <span class="s2">"total_turnover_e8"</span><span class="p">:</span> <span class="mi">2029370495672976</span><span class="p">,</span>
                <span class="s2">"turnover_24h_e8"</span><span class="p">:</span> <span class="mi">9066215468687</span><span class="p">,</span>
                <span class="s2">"volume_24h"</span><span class="p">:</span> <span class="mi">735316391</span><span class="p">,</span>
                <span class="s2">"cross_seq"</span><span class="p">:</span> <span class="mi">1053192657</span><span class="p">,</span>
                <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2018-11-14T16:33:26Z"</span><span class="p">,</span>
                <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2020-01-12T18:25:25Z"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">"insert"</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="s2">"cross_seq"</span><span class="p">:</span> <span class="mi">1053192657</span><span class="p">,</span>
    <span class="s2">"timestamp_e6"</span><span class="p">:</span> <span class="mi">1578853525691123</span>
<span class="p">}</span>
</code></pre>
<p>获取合约的最新数据.</p>

<aside class="warning">
注意，该topic只会推送<code>update</code>数据. <code>delete</code>和<code>insert</code>数据都为空. 如果<code>update</code>数据也为空,则表明信息没有发生变化.

</aside>

<aside class="notice">
一些值以以科学计数法的形式被返回. 根据这个值的key的后缀, 如<code>total_turnover_e8</code>,则表明这个数字需要除以10^8. <br/>
例如<code>last_price_e4</code>的值为<code>81585000</code>, 那么<code>81585000 / 10^4</code>,等于<code>8158.5</code>才是这个字段的真实值.

</aside>
<h3 id='t-websockettrade'>平台成交</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["trade.BTCUSDT"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"trade.BTCUSDT"</span><span class="p">,</span>
    <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
            <span class="s2">"tick_direction"</span><span class="p">:</span> <span class="s2">"PlusTick"</span><span class="p">,</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="mi">8098</span><span class="p">,</span>
            <span class="s2">"size"</span><span class="p">:</span> <span class="mi">328</span><span class="p">,</span>
            <span class="s2">"timestamp"</span><span class="p">:</span><span class="s2">"2020-03-30T02:21:06.000Z"</span><span class="p">,</span>
            <span class="s2">"trade_time_ms"</span><span class="p">:</span><span class="s2">"1585534866418"</span><span class="p">,</span>
            <span class="s2">"side"</span><span class="p">:</span><span class="s2">"Sell"</span><span class="p">,</span>
            <span class="s2">"trade_id"</span><span class="p">:</span><span class="s2">"01e79e28-d1f4-59ac-b079-ca909606d91a"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre>
<p>获取Bybit平台最近成交数据.</p>
<h3 id='t-websocketkline'>K线</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op":"subscribe","args":["candle.1.BTCUSDT"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"topic"</span><span class="p">:</span><span class="s2">"candle.1.BTCUSDT"</span><span class="p">,</span>
    <span class="s2">"data"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s2">"start"</span><span class="p">:</span><span class="mi">1588071660</span><span class="p">,</span>
            <span class="s2">"end"</span><span class="p">:</span><span class="mi">1588071720</span><span class="p">,</span>
            <span class="s2">"open"</span><span class="p">:</span><span class="mf">7744.5</span><span class="p">,</span>
            <span class="s2">"close"</span><span class="p">:</span><span class="mi">7745</span><span class="p">,</span>
            <span class="s2">"high"</span><span class="p">:</span><span class="mi">7745</span><span class="p">,</span>
            <span class="s2">"low"</span><span class="p">:</span><span class="mi">7744</span><span class="p">,</span>
            <span class="s2">"volume"</span><span class="p">:</span><span class="s2">"33.051"</span><span class="p">,</span>
            <span class="s2">"turnover"</span><span class="p">:</span><span class="s2">"255979.995"</span><span class="p">,</span>
            <span class="s2">"confirm"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
            <span class="s2">"cross_seq"</span><span class="p">:</span><span class="mi">71947372</span><span class="p">,</span>
            <span class="s2">"timestamp"</span><span class="p">:</span><span class="mi">1588071717325846</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"timestamp_e6"</span><span class="p">:</span><span class="mi">1588071721163975</span>
<span class="p">}</span>
</code></pre>
<p><p>目前所支持的周期:</p>
<ul>
<li>1 3 5 15 30</li>
<li>60 120 240 360</li>
<li>D</li>
<li>W</li>
<li>M</li>
</ul>
</p>

<aside class="notice">
注意如果字段<code>confirm</code>为<code>True</code>, 则表明这是这根K线的最后一个tick；否则，这只是一个快照数据，即中间价格

</aside>
<h2 id='t-privatetopics'>私有 Topics</h2><h3 id='t-websocketposition'>持仓</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["position"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
   <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"position"</span><span class="p">,</span>
   <span class="s2">"action"</span><span class="p">:</span> <span class="s2">"update"</span><span class="p">,</span>
   <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">"user_id"</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>
           <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
           <span class="s2">"size"</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> 
           <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
           <span class="s2">"position_value"</span><span class="p">:</span> <span class="s2">"0.00159252"</span><span class="p">,</span>
           <span class="s2">"entry_price"</span><span class="p">:</span> <span class="s2">"6907.291588174717"</span><span class="p">,</span>
           <span class="s2">"liq_price"</span><span class="p">:</span> <span class="s2">"7100.234"</span><span class="p">,</span>
           <span class="s2">"bust_price"</span><span class="p">:</span> <span class="s2">"7088.1234"</span><span class="p">,</span>
           <span class="s2">"leverage"</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
           <span class="s2">"order_margin"</span><span class="p">:</span>  <span class="s2">"1"</span><span class="p">,</span>
           <span class="s2">"position_margin"</span><span class="p">:</span>  <span class="s2">"1"</span><span class="p">,</span> 
           <span class="s2">"occ_closing_fee"</span><span class="p">:</span>  <span class="s2">"0.1"</span><span class="p">,</span> 
           <span class="s2">"take_profit"</span><span class="p">:</span>  <span class="s2">"0.1"</span><span class="p">,</span>
           <span class="s2">"tp_trigger_by"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
           <span class="s2">"stop_loss"</span><span class="p">:</span>  <span class="s2">"0.12"</span><span class="p">,</span>
           <span class="s2">"sl_trigger_by"</span><span class="p">:</span> <span class="s2">"Normal"</span><span class="p">,</span> 
           <span class="s2">"realised_pnl"</span><span class="p">:</span> <span class="s2">"Normal"</span><span class="p">,</span> 
           <span class="s2">"cum_realised_pnl"</span><span class="p">:</span> <span class="s2">"Normal"</span><span class="p">,</span>
           <span class="s2">"position_seq"</span><span class="p">:</span> <span class="mi">14</span>
       <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</code></pre><h3 id='t-websocketexecution'>个人成交</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["execution"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"execution"</span><span class="p">,</span>
    <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
            <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
            <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"xxxxxxxx-xxxx-xxxx-9a8f-4a973eb5c418"</span><span class="p">,</span>
            <span class="s2">"exec_id"</span><span class="p">:</span> <span class="s2">"xxxxxxxx-xxxx-xxxx-8b66-c3d2fcd352f6"</span><span class="p">,</span>
            <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"8300"</span><span class="p">,</span>
            <span class="s2">"order_qty"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"exec_type"</span><span class="p">:</span> <span class="s2">"Trade"</span><span class="p">,</span>
            <span class="s2">"exec_qty"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"exec_fee"</span><span class="p">:</span> <span class="s2">"0.00000009"</span><span class="p">,</span>
            <span class="s2">"trade_time"</span><span class="p">:</span> <span class="s2">"2020-01-14T14:07:23.629Z"</span> <span class="c1">// trade time</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre><h3 id='t-websocketorder'>活动单</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["order"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"order"</span><span class="p">,</span>
    <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"xxxxxxxx-xxxx-xxxx-9a8f-4a973eb5c418"</span><span class="p">,</span>
            <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
            <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Sell"</span><span class="p">,</span>
            <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Market"</span><span class="p">,</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"8579.5"</span><span class="p">,</span>
            <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"time_in_force"</span><span class="p">:</span> <span class="s2">"ImmediateOrCancel"</span><span class="p">,</span>
            <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"Filled"</span><span class="p">,</span>
            <span class="s2">"last_exec_price"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"cum_exec_qty"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"cum_exec_value"</span><span class="p">:</span> <span class="s2">"0.00011655"</span><span class="p">,</span>
            <span class="s2">"cum_exec_fee"</span><span class="p">:</span> <span class="s2">"0.00000009"</span><span class="p">,</span>
            <span class="s2">"create_time"</span><span class="p">:</span> <span class="s2">"2020-01-14T14:09:31.778Z"</span><span class="p">,</span>
            <span class="s2">"update_time"</span><span class="p">:</span> <span class="s2">"2020-01-14T14:09:31.778Z"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre><h3 id='t-websocketstoporder'>条件单</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["stop_order"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"stop_order"</span><span class="p">,</span>
    <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"stop_order_id"</span><span class="p">:</span> <span class="s2">"xxxxxxxx-xxxx-xxxx-98fb-335aaa6c613b"</span><span class="p">,</span>
            <span class="s2">"order_link_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
            <span class="s2">"user_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
            <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"Buy"</span><span class="p">,</span>
            <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"Limit"</span><span class="p">,</span>
            <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"8584.5"</span><span class="p">,</span>
            <span class="s2">"qty"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"time_in_force"</span><span class="p">:</span> <span class="s2">"ImmediateOrCancel"</span><span class="p">,</span>
            <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"Untriggered"</span><span class="p">,</span> <span class="c1">//<a href="#stop-order-status-stop_order_status">条件单状态stop_order_status枚举</a></span>
            <span class="s2">"stop_order_type"</span><span class="p">:</span> <span class="s2">"Stop"</span><span class="p">,</span>
            <span class="s2">"trigger_by"</span><span class="p">:</span> <span class="s2">"LastPrice"</span><span class="p">,</span>
            <span class="s2">"trigger_price"</span><span class="p">:</span> <span class="s2">"8584.5"</span><span class="p">,</span>
            <span class="s2">"create_time"</span><span class="p">:</span> <span class="s2">"2020-01-14T14:11:22.062Z"</span><span class="p">,</span>
            <span class="s2">"update_time"</span><span class="p">:</span> <span class="s2">"2020-01-14T14:11:22.062Z"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre><h3 id='t-websocketwallet'>钱包</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'{"op": "subscribe", "args": ["wallet"]}'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>响应示例</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"wallet"</span><span class="p">,</span>
    <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"wallet_balance"</span><span class="p">:</span><span class="mf">429.80713</span><span class="p">,</span>
            <span class="s2">"available_balance"</span><span class="p">:</span><span class="mf">429.67322</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre><h1 id='t-errors'>错误码</h1>
<p>Bybit使用以下HTTP Code和错误码：</p>

<table><thead>
<tr>
<th>HTTP Code</th>
<th>含义</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>请求有效</td>
</tr>
<tr>
<td>403</td>
<td>拒绝访问</td>
</tr>
<tr>
<td>404</td>
<td>访问路径不存在</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>含义</th>
</tr>
</thead><tbody>
<tr>
<td>10001</td>
<td>参数错误</td>
</tr>
<tr>
<td>10002</td>
<td>请求过期，请检查 <code>timestamp</code> 和 <code>recv_window</code></td>
</tr>
<tr>
<td>10001</td>
<td>参数错误</td>
</tr>
<tr>
<td>10002</td>
<td>请求过期，请检查 <code>timestamp</code> 和 <code>recv_window</code></td>
</tr>
<tr>
<td>10003</td>
<td>无效的apikey</td>
</tr>
<tr>
<td>10004</td>
<td>签名错误</td>
</tr>
<tr>
<td>10005</td>
<td>apikey权限不足</td>
</tr>
<tr>
<td>10006</td>
<td>请求次数超限</td>
</tr>
<tr>
<td>10007</td>
<td>您的请求中没有<code>api_key</code></td>
</tr>
<tr>
<td>10010</td>
<td>请求ip不匹配</td>
</tr>
<tr>
<td>10017</td>
<td>请求路径不存在或请求方法错误</td>
</tr>
<tr>
<td>33004</td>
<td>apikey已过期</td>
</tr>
<tr>
<td>130001</td>
<td>没有获取仓位</td>
</tr>
<tr>
<td>130002</td>
<td>钱包数据为空</td>
</tr>
<tr>
<td>130003</td>
<td>仓位状态不正常</td>
</tr>
<tr>
<td>130004</td>
<td>活动单数量超过上限</td>
</tr>
<tr>
<td>130005</td>
<td>委托单价格超过允许范围</td>
</tr>
<tr>
<td>130006</td>
<td>委托单的数量超过允许范围</td>
</tr>
<tr>
<td>130007</td>
<td>委托单价格超过允许范围</td>
</tr>
<tr>
<td>130008</td>
<td>委托单类型无效</td>
</tr>
<tr>
<td>130009</td>
<td>合约数量低于最低限制</td>
</tr>
<tr>
<td>130010</td>
<td>委托单不存在或超时而无法操作</td>
</tr>
<tr>
<td>130011</td>
<td>仓位在强平过程中而无法操作</td>
</tr>
<tr>
<td>130012</td>
<td>仓位在减仓过程中而无法操作</td>
</tr>
<tr>
<td>130013</td>
<td>追踪单的追踪值无效</td>
</tr>
<tr>
<td>130014</td>
<td>条件单的触发价格无效</td>
</tr>
<tr>
<td>130015</td>
<td>条件单的预期方向和基础价格无效</td>
</tr>
<tr>
<td>130016</td>
<td>无效的条件单类型，不能更改价格</td>
</tr>
<tr>
<td>130017</td>
<td>无效的条件单类型，不能更改数量</td>
</tr>
<tr>
<td>130018</td>
<td>无效的追踪值</td>
</tr>
<tr>
<td>130019</td>
<td>无效的条件单类型，无法更改触发价格</td>
</tr>
<tr>
<td>130020</td>
<td>无效的条件单类型，无法更改追踪值</td>
</tr>
<tr>
<td>130021</td>
<td>下单成本不足</td>
</tr>
<tr>
<td>130024</td>
<td>不能给无仓位设置止盈止损</td>
</tr>
<tr>
<td>130025</td>
<td>低于10%基准价格</td>
</tr>
<tr>
<td>130026</td>
<td>价格太高</td>
</tr>
<tr>
<td>130027</td>
<td>给买方向的仓位设置的价格应该高于基准价格</td>
</tr>
<tr>
<td>130028</td>
<td>给卖方向的仓位设置的价格应该在基准价格和强平价之间</td>
</tr>
<tr>
<td>130029</td>
<td>给买方向的仓位设置的价格应该在基准价格和强平价之间</td>
</tr>
<tr>
<td>130030</td>
<td>给卖方向的仓位设置的价格应该低于基准价格</td>
</tr>
<tr>
<td>130032</td>
<td>无效的订单状态，不能取消或执行触发</td>
</tr>
<tr>
<td>130033</td>
<td>条件单数量大于限制10</td>
</tr>
<tr>
<td>130034</td>
<td>无法更改止盈/止损单</td>
</tr>
<tr>
<td>130035</td>
<td>太频繁取消单子，请稍后重试</td>
</tr>
<tr>
<td>130037</td>
<td>订单已经被取消了</td>
</tr>
<tr>
<td>130040</td>
<td>仓位将被强平</td>
</tr>
<tr>
<td>130041</td>
<td>可用余额小于0</td>
</tr>
<tr>
<td>130049</td>
<td>可用余额不足</td>
</tr>
<tr>
<td>130050</td>
<td>相应的调整将会触发强平</td>
</tr>
<tr>
<td>130051</td>
<td>由于风险限额，无法设置杠杆</td>
</tr>
<tr>
<td>130052</td>
<td>低于最低限制，无法设置杠杆</td>
</tr>
<tr>
<td>130056</td>
<td>仓位处于全仓中</td>
</tr>
<tr>
<td>130057</td>
<td>仓位size为0</td>
</tr>
<tr>
<td>130058</td>
<td>不能设置保证金低于最低仓位成本</td>
</tr>
<tr>
<td>130059</td>
<td>不能设置仓位开仓限额大于品种的限额</td>
</tr>
<tr>
<td>130060</td>
<td>自动追加保证金未更改</td>
</tr>
<tr>
<td>130061</td>
<td>没有改变费用，无效的请求</td>
</tr>
<tr>
<td>130062</td>
<td>不能设置开仓限额低于当前买仓位价值</td>
</tr>
<tr>
<td>130063</td>
<td>不能设置开仓限额低于当前卖仓位价值</td>
</tr>
<tr>
<td>130064</td>
<td>仅支持USDT</td>
</tr>
<tr>
<td>130074</td>
<td>需要价格上升，但触发价低于当前价</td>
</tr>
<tr>
<td>130075</td>
<td>需要价格下降，但触发价高于当前价</td>
</tr>
<tr>
<td>130076</td>
<td>参数无效</td>
</tr>
<tr>
<td>130077</td>
<td>入金请求已处理过</td>
</tr>
<tr>
<td>130078</td>
<td>出金请求已处理过</td>
</tr>
<tr>
<td>130079</td>
<td>结算当日盈亏请求已处理过</td>
</tr>
<tr>
<td>130101</td>
<td>无法解析的创建委托单请求</td>
</tr>
<tr>
<td>130102</td>
<td>无法解析的取消委托单请求</td>
</tr>
<tr>
<td>130103</td>
<td>无法解析的取消所有委托单请求</td>
</tr>
<tr>
<td>130104</td>
<td>无法解析的强平请求</td>
</tr>
<tr>
<td>130105</td>
<td>无法解析的预下单请求</td>
</tr>
<tr>
<td>130106</td>
<td>无法解析的查询委托单请求</td>
</tr>
<tr>
<td>130107</td>
<td>无法解析的触发激活请求</td>
</tr>
<tr>
<td>130108</td>
<td>无法解析的追加保证金请求</td>
</tr>
<tr>
<td>130109</td>
<td>无法解析的计算仓位盈亏请求</td>
</tr>
<tr>
<td>130110</td>
<td>无法解析的查询资产请求</td>
</tr>
<tr>
<td>130111</td>
<td>无法解析的查询仓位列表请求</td>
</tr>
<tr>
<td>130112</td>
<td>无法解析的设置自动追加保证金请求</td>
</tr>
<tr>
<td>130113</td>
<td>无法解析的设置费用请求</td>
</tr>
<tr>
<td>130114</td>
<td>无法解析的调杠杆请求</td>
</tr>
<tr>
<td>130115</td>
<td>无法解析的设置保证金请求</td>
</tr>
<tr>
<td>130116</td>
<td>无法解析的设置开仓限额请求</td>
</tr>
<tr>
<td>130117</td>
<td>无法解析的设置止盈止损请求</td>
</tr>
<tr>
<td>130118</td>
<td>无法解析的结算资金费用请求</td>
</tr>
<tr>
<td>130119</td>
<td>无法解析的设置仓位模式请求</td>
</tr>
<tr>
<td>130120</td>
<td>无法解析的入金请求</td>
</tr>
<tr>
<td>130121</td>
<td>无法解析的出金请求</td>
</tr>
<tr>
<td>130122</td>
<td>无法解析的结算当日盈亏请求</td>
</tr>
<tr>
<td>130123</td>
<td>无法解析的AdlExecute请求</td>
</tr>
<tr>
<td>130124</td>
<td>无法解析的adl clean请求</td>
</tr>
<tr>
<td>130125</td>
<td>平仓数量大于持仓数量</td>
</tr>
<tr>
<td>130126</td>
<td>盘口没有挂单</td>
</tr>
<tr>
<td>130023</td>
<td>本订单成交后会触发强平</td>
</tr>
<tr>
<td>130127</td>
<td>止盈止损及追踪止损没有修改</td>
</tr>
</tbody></table>
<h1 id='t-enums'>枚举定义</h1>
<p>以下是各个接口请求参数或返回结果中定义的枚举。</p>
<h2 id='side-side'>Side (<code>side</code>)</h2>
<ul>
<li><code>Buy</code></li>
<li><code>Sell</code></li>
</ul>
<h2 id='symbol-symbol'>Symbol (<code>symbol</code>)</h2>
<ul>
<li><code>BTCUSDT</code></li>
</ul>
<h2 id='currency-currency-coin'>Currency (<code>currency</code>/<code>coin</code>)</h2>
<ul>
<li><code>USDT</code></li>
</ul>
<h2 id='wallet-fund-type-wallet_fund_type'>Wallet fund type (<code>wallet_fund_type</code>)</h2>
<ul>
<li><code>Deposit</code> 入金</li>
<li><code>Withdraw</code> 提币</li>
<li><code>RealisedPNL</code> 已结盈亏</li>
<li><code>Commission</code> 佣金</li>
<li><code>Refund</code> 系统返还（如提币审核拒绝返还、用户提币取消返还）</li>
<li><code>Prize</code> 增进</li>
<li><code>ExchangeOrderWithdraw</code> 兑出</li>
<li><code>ExchangeOrderDeposit</code> 兑入</li>
</ul>
<h2 id='withdraw-status-status'>Withdraw status (<code>status</code>)</h2>
<ul>
<li><code>ToBeConfirmed</code> 待（用户邮件）确认</li>
<li><code>UnderReview</code> 审核中</li>
<li><code>Pending</code> 待打款</li>
<li><code>Success</code> 打款成功</li>
<li><code>CancelByUser</code> 用户取消</li>
<li><code>Reject</code> 审核拒绝</li>
<li><code>Expire</code> 提币请求过期</li>
</ul>
<h2 id='order-type-order_type'>Order type (<code>order_type</code>)</h2>
<ul>
<li><code>Limit</code> 限价单</li>
<li><code>Market</code> 市价单</li>
</ul>
<h2 id='quantity-qty'>Quantity (<code>qty</code>)</h2>
<p><ul> <li>最大值1百万 (<code>1000000</code>)</li> <li>必须是正整数： <ul> <li><code>40</code> - 合法</li> <li><code>30.5</code> - 非法</li> </ul> </li> </ul></p>
<h2 id='price-price'>Price (<code>price</code>)</h2>
<p><ul> <li>活动单<ul> <li>必须是<code>tick_size</code>的整数倍<ul> <li>当前symbol信息(如<code>tick_size</code>)，可以通过<a href="#t-querysymbol">交易对接口</a>接口获得。</li> </ul> </li> <li>必须小于一百万 (<code>1000000</code>)</li> <li>如果用户没有未平仓，则价格必须大于市场价格的10%<ul> <li>如, 若当前市场价(last price) 为 10314, 那么下单价格的最小值为 1031.5。</li> <li>伪代码(假设价格是0.5的增量):<pre class="center-column"> IF price > (last_price * 0.1) // 发送订单 ELSE //  不会发送订单，因为价格将不被系统接受 </pre></li> </ul> </li> <li>如果已持有仓位，那么价格必须高于强平价格<ul> <li>如, 若多仓的强平价格为 5176.5 那么价格最小为 5177. 在做空的情况下，价格必须低于强平价格。</li> </ul> </li> </ul> </li> <li>条件单<ul> <li>必须大于等于 <code>1</code></li> </ul> </li> </ul></p>
<h2 id='time-in-force-time_in_force'>Time in force (<code>time_in_force</code>)</h2>
<ul>
<li><code>GoodTillCancel</code> 一直有效至取消</li>
<li><code>ImmediateOrCancel</code> 立即成交或取消</li>
<li><code>FillOrKill</code> 完全成交或取消</li>
<li><code>PostOnly</code> 被动委托</li>
</ul>
<h2 id='trigger-price-type-trigger_by'>Trigger price type (<code>trigger_by</code>)</h2>
<ul>
<li><code>LastPrice</code> 最新市价</li>
<li><code>IndexPrice</code> 指数价格</li>
<li><code>MarkPrice</code> 标记价格</li>
</ul>
<h2 id='order-order'>Order (<code>order</code>)</h2>
<p>排序方向</p>

<ul>
<li><code>desc</code> (default)</li>
<li><code>asc</code> </li>
</ul>
<h2 id='order-status-order_status'>Order status (<code>order_status</code>)</h2>
<p>在查询接口中，您可以通过逗号分割来指定查询多种状态，如: <code>Filled,New</code>
</p>

<ul>
<li><code>Created</code> </li>
<li><code>Rejected</code> - 条件触发成功但下单失败</li>
<li><code>New</code> </li>
<li><code>PartiallyFilled</code> </li>
<li><code>Filled</code> </li>
<li><code>Cancelled</code> </li>
<li><code>PendingCancel</code> - 撮合引擎收到取消指令但不一定会被成功取消</li>
</ul>

<!--
## Stop order status (`stop_order_status`)
* `Active` - 条件单触发成功且下单成功
* `Untriggered` - 等待市价触发条件单
* `Triggered` - 市价已触发条件单
* `Cancelled` - 取消
* `Rejected` - 条件触发成功但下单失败
* `Deactivated` - 条件单触发前被取消
-->
<h2 id='cancel-type-cancel_type'>Cancel type (<code>cancel_type</code>)</h2>
<ul>
<li><code>CancelByUser</code> 用户取消</li>
<li><code>CancelByReduceOnly</code> </li>
<li><code>CancelByPrepareLiq</code>,<code>CancelAllBeforeLiq</code> - 仓位进入强平导致取消订单</li>
<li><code>CancelByPrepareAdl</code>,<code>CancelAllBeforeAdl</code> - 自动减仓导致取消订单</li>
<li><code>CancelByAdmin</code> </li>
<li><code>CancelByTpSlTsClear</code> - 止盈止损单被取消</li>
<li><code>CancelByPzSideCh</code> - 该订单在触发止盈止损后被取消</li>
</ul>
<h2 id='create-type-create_type'>Create type (<code>create_type</code>)</h2>
<ul>
<li><code>CreateByUser</code></li>
<li><code>CreateByClosing</code></li>
<li><code>CreateByAdminClosing</code></li>
<li><code>CreateByStopOrder</code></li>
<li><code>CreateByTakeProfit</code></li>
<li><code>CreateByStopLoss</code></li>
<li><code>CreateByTrailingStop</code></li>
<li><code>CreateByLiq</code> - Created by partial liquidation</li>
<li><code>CreateByAdl_PassThrough</code> - Created by ADL</li>
<li><code>CreateByTakeOver_PassThrough</code> - Created by liquidation takeover</li>
</ul>
<h2 id='exec-type-exec_type'>Exec type (<code>exec_type</code>)</h2>
<ul>
<li><code>Trade</code> 普通交易</li>
<li><code>AdlTrade</code> 自动减仓</li>
<li><code>Funding</code> 资金费率</li>
<li><code>BustTrade</code> 强制平仓</li>
</ul>
<h2 id='liquidity-type-last_liquidity_ind'>Liquidity type (<code>last_liquidity_ind</code>)</h2>
<ul>
<li><code>AddedLiquidity</code> maker成交</li>
<li><code>RemovedLiquidity</code> taker成交</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="console">console</a>
          </div>
      </div>
    </div>
  </body>

<script>
    $(".con a").click(function(){
      $(".con a").removeClass("selected");
      $(this).addClass("selected")
    });
    $("#international").click(function(){
      $this = $(this);
      var currentUrl = window.location.href;
      if ($this.text() == 'English') {
        window.location=currentUrl.replace(/\/zh-cn/,"");
      } else {
        if (currentUrl.indexOf("inverse") > -1) {
          window.location=currentUrl.replace(/\/inverse/,"/zh-cn/inverse");
        } else {
          window.location=currentUrl.replace(/\/linear/,"/zh-cn/linear");
        }

      }
    });
</script>

</html>
